(function(){"use strict";/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */function rt(e){let n=e.length;for(;--n>=0;)e[n]=0}const wa=0,ir=1,ma=2,ya=3,va=258,sn=29,_t=256,pt=_t+1+sn,it=30,on=19,ar=2*pt+1,We=15,ln=16,Aa=7,fn=256,sr=16,or=17,lr=18,un=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Ut=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Ea=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),fr=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),xa=512,$e=new Array((pt+2)*2);rt($e);const gt=new Array(it*2);rt(gt);const bt=new Array(xa);rt(bt);const wt=new Array(va-ya+1);rt(wt);const cn=new Array(sn);rt(cn);const Bt=new Array(it);rt(Bt);function hn(e,n,t,r,i){this.static_tree=e,this.extra_bits=n,this.extra_base=t,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let ur,cr,hr;function dn(e,n){this.dyn_tree=e,this.max_code=0,this.stat_desc=n}const dr=e=>e<256?bt[e]:bt[256+(e>>>7)],mt=(e,n)=>{e.pending_buf[e.pending++]=n&255,e.pending_buf[e.pending++]=n>>>8&255},ce=(e,n,t)=>{e.bi_valid>ln-t?(e.bi_buf|=n<<e.bi_valid&65535,mt(e,e.bi_buf),e.bi_buf=n>>ln-e.bi_valid,e.bi_valid+=t-ln):(e.bi_buf|=n<<e.bi_valid&65535,e.bi_valid+=t)},Ee=(e,n,t)=>{ce(e,t[n*2],t[n*2+1])},_r=(e,n)=>{let t=0;do t|=e&1,e>>>=1,t<<=1;while(--n>0);return t>>>1},Ra=e=>{e.bi_valid===16?(mt(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},Sa=(e,n)=>{const t=n.dyn_tree,r=n.max_code,i=n.stat_desc.static_tree,a=n.stat_desc.has_stree,s=n.stat_desc.extra_bits,o=n.stat_desc.extra_base,u=n.stat_desc.max_length;let l,f,g,_,p,m,A=0;for(_=0;_<=We;_++)e.bl_count[_]=0;for(t[e.heap[e.heap_max]*2+1]=0,l=e.heap_max+1;l<ar;l++)f=e.heap[l],_=t[t[f*2+1]*2+1]+1,_>u&&(_=u,A++),t[f*2+1]=_,!(f>r)&&(e.bl_count[_]++,p=0,f>=o&&(p=s[f-o]),m=t[f*2],e.opt_len+=m*(_+p),a&&(e.static_len+=m*(i[f*2+1]+p)));if(A!==0){do{for(_=u-1;e.bl_count[_]===0;)_--;e.bl_count[_]--,e.bl_count[_+1]+=2,e.bl_count[u]--,A-=2}while(A>0);for(_=u;_!==0;_--)for(f=e.bl_count[_];f!==0;)g=e.heap[--l],!(g>r)&&(t[g*2+1]!==_&&(e.opt_len+=(_-t[g*2+1])*t[g*2],t[g*2+1]=_),f--)}},pr=(e,n,t)=>{const r=new Array(We+1);let i=0,a,s;for(a=1;a<=We;a++)i=i+t[a-1]<<1,r[a]=i;for(s=0;s<=n;s++){let o=e[s*2+1];o!==0&&(e[s*2]=_r(r[o]++,o))}},ka=()=>{let e,n,t,r,i;const a=new Array(We+1);for(t=0,r=0;r<sn-1;r++)for(cn[r]=t,e=0;e<1<<un[r];e++)wt[t++]=r;for(wt[t-1]=r,i=0,r=0;r<16;r++)for(Bt[r]=i,e=0;e<1<<Ut[r];e++)bt[i++]=r;for(i>>=7;r<it;r++)for(Bt[r]=i<<7,e=0;e<1<<Ut[r]-7;e++)bt[256+i++]=r;for(n=0;n<=We;n++)a[n]=0;for(e=0;e<=143;)$e[e*2+1]=8,e++,a[8]++;for(;e<=255;)$e[e*2+1]=9,e++,a[9]++;for(;e<=279;)$e[e*2+1]=7,e++,a[7]++;for(;e<=287;)$e[e*2+1]=8,e++,a[8]++;for(pr($e,pt+1,a),e=0;e<it;e++)gt[e*2+1]=5,gt[e*2]=_r(e,5);ur=new hn($e,un,_t+1,pt,We),cr=new hn(gt,Ut,0,it,We),hr=new hn(new Array(0),Ea,0,on,Aa)},gr=e=>{let n;for(n=0;n<pt;n++)e.dyn_ltree[n*2]=0;for(n=0;n<it;n++)e.dyn_dtree[n*2]=0;for(n=0;n<on;n++)e.bl_tree[n*2]=0;e.dyn_ltree[fn*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},br=e=>{e.bi_valid>8?mt(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},wr=(e,n,t,r)=>{const i=n*2,a=t*2;return e[i]<e[a]||e[i]===e[a]&&r[n]<=r[t]},_n=(e,n,t)=>{const r=e.heap[t];let i=t<<1;for(;i<=e.heap_len&&(i<e.heap_len&&wr(n,e.heap[i+1],e.heap[i],e.depth)&&i++,!wr(n,r,e.heap[i],e.depth));)e.heap[t]=e.heap[i],t=i,i<<=1;e.heap[t]=r},mr=(e,n,t)=>{let r,i,a=0,s,o;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+a++]&255,r+=(e.pending_buf[e.sym_buf+a++]&255)<<8,i=e.pending_buf[e.sym_buf+a++],r===0?Ee(e,i,n):(s=wt[i],Ee(e,s+_t+1,n),o=un[s],o!==0&&(i-=cn[s],ce(e,i,o)),r--,s=dr(r),Ee(e,s,t),o=Ut[s],o!==0&&(r-=Bt[s],ce(e,r,o)));while(a<e.sym_next);Ee(e,fn,n)},pn=(e,n)=>{const t=n.dyn_tree,r=n.stat_desc.static_tree,i=n.stat_desc.has_stree,a=n.stat_desc.elems;let s,o,u=-1,l;for(e.heap_len=0,e.heap_max=ar,s=0;s<a;s++)t[s*2]!==0?(e.heap[++e.heap_len]=u=s,e.depth[s]=0):t[s*2+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=u<2?++u:0,t[l*2]=1,e.depth[l]=0,e.opt_len--,i&&(e.static_len-=r[l*2+1]);for(n.max_code=u,s=e.heap_len>>1;s>=1;s--)_n(e,t,s);l=a;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],_n(e,t,1),o=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=o,t[l*2]=t[s*2]+t[o*2],e.depth[l]=(e.depth[s]>=e.depth[o]?e.depth[s]:e.depth[o])+1,t[s*2+1]=t[o*2+1]=l,e.heap[1]=l++,_n(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Sa(e,n),pr(t,u,e.bl_count)},yr=(e,n,t)=>{let r,i=-1,a,s=n[0*2+1],o=0,u=7,l=4;for(s===0&&(u=138,l=3),n[(t+1)*2+1]=65535,r=0;r<=t;r++)a=s,s=n[(r+1)*2+1],!(++o<u&&a===s)&&(o<l?e.bl_tree[a*2]+=o:a!==0?(a!==i&&e.bl_tree[a*2]++,e.bl_tree[sr*2]++):o<=10?e.bl_tree[or*2]++:e.bl_tree[lr*2]++,o=0,i=a,s===0?(u=138,l=3):a===s?(u=6,l=3):(u=7,l=4))},vr=(e,n,t)=>{let r,i=-1,a,s=n[0*2+1],o=0,u=7,l=4;for(s===0&&(u=138,l=3),r=0;r<=t;r++)if(a=s,s=n[(r+1)*2+1],!(++o<u&&a===s)){if(o<l)do Ee(e,a,e.bl_tree);while(--o!==0);else a!==0?(a!==i&&(Ee(e,a,e.bl_tree),o--),Ee(e,sr,e.bl_tree),ce(e,o-3,2)):o<=10?(Ee(e,or,e.bl_tree),ce(e,o-3,3)):(Ee(e,lr,e.bl_tree),ce(e,o-11,7));o=0,i=a,s===0?(u=138,l=3):a===s?(u=6,l=3):(u=7,l=4)}},Ca=e=>{let n;for(yr(e,e.dyn_ltree,e.l_desc.max_code),yr(e,e.dyn_dtree,e.d_desc.max_code),pn(e,e.bl_desc),n=on-1;n>=3&&e.bl_tree[fr[n]*2+1]===0;n--);return e.opt_len+=3*(n+1)+5+5+4,n},Ta=(e,n,t,r)=>{let i;for(ce(e,n-257,5),ce(e,t-1,5),ce(e,r-4,4),i=0;i<r;i++)ce(e,e.bl_tree[fr[i]*2+1],3);vr(e,e.dyn_ltree,n-1),vr(e,e.dyn_dtree,t-1)},Oa=e=>{let n=4093624447,t;for(t=0;t<=31;t++,n>>>=1)if(n&1&&e.dyn_ltree[t*2]!==0)return 0;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return 1;for(t=32;t<_t;t++)if(e.dyn_ltree[t*2]!==0)return 1;return 0};let Ar=!1;const $a=e=>{Ar||(ka(),Ar=!0),e.l_desc=new dn(e.dyn_ltree,ur),e.d_desc=new dn(e.dyn_dtree,cr),e.bl_desc=new dn(e.bl_tree,hr),e.bi_buf=0,e.bi_valid=0,gr(e)},Er=(e,n,t,r)=>{ce(e,(wa<<1)+(r?1:0),3),br(e),mt(e,t),mt(e,~t),t&&e.pending_buf.set(e.window.subarray(n,n+t),e.pending),e.pending+=t},La=e=>{ce(e,ir<<1,3),Ee(e,fn,$e),Ra(e)},Ha=(e,n,t,r)=>{let i,a,s=0;e.level>0?(e.strm.data_type===2&&(e.strm.data_type=Oa(e)),pn(e,e.l_desc),pn(e,e.d_desc),s=Ca(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=i&&(i=a)):i=a=t+5,t+4<=i&&n!==-1?Er(e,n,t,r):e.strategy===4||a===i?(ce(e,(ir<<1)+(r?1:0),3),mr(e,$e,gt)):(ce(e,(ma<<1)+(r?1:0),3),Ta(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),mr(e,e.dyn_ltree,e.dyn_dtree)),gr(e),r&&br(e)},Na=(e,n,t)=>(e.pending_buf[e.sym_buf+e.sym_next++]=n,e.pending_buf[e.sym_buf+e.sym_next++]=n>>8,e.pending_buf[e.sym_buf+e.sym_next++]=t,n===0?e.dyn_ltree[t*2]++:(e.matches++,n--,e.dyn_ltree[(wt[t]+_t+1)*2]++,e.dyn_dtree[dr(n)*2]++),e.sym_next===e.sym_end);var Ia=$a,Da=Er,Fa=Ha,za=Na,Ma=La,Ua={_tr_init:Ia,_tr_stored_block:Da,_tr_flush_block:Fa,_tr_tally:za,_tr_align:Ma},yt=(e,n,t,r)=>{let i=e&65535|0,a=e>>>16&65535|0,s=0;for(;t!==0;){s=t>2e3?2e3:t,t-=s;do i=i+n[r++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};const Ba=()=>{let e,n=[];for(var t=0;t<256;t++){e=t;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;n[t]=e}return n},Pa=new Uint32Array(Ba());var se=(e,n,t,r)=>{const i=Pa,a=r+t;e^=-1;for(let s=r;s<a;s++)e=e>>>8^i[(e^n[s])&255];return e^-1},Xe={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Qe={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Za,_tr_stored_block:gn,_tr_flush_block:Ga,_tr_tally:Fe,_tr_align:Ka}=Ua,{Z_NO_FLUSH:ze,Z_PARTIAL_FLUSH:ja,Z_FULL_FLUSH:Wa,Z_FINISH:be,Z_BLOCK:xr,Z_OK:oe,Z_STREAM_END:Rr,Z_STREAM_ERROR:xe,Z_DATA_ERROR:Xa,Z_BUF_ERROR:bn,Z_DEFAULT_COMPRESSION:Qa,Z_FILTERED:qa,Z_HUFFMAN_ONLY:Pt,Z_RLE:Ya,Z_FIXED:Va,Z_DEFAULT_STRATEGY:Ja,Z_UNKNOWN:es,Z_DEFLATED:Zt}=Qe,ts=9,ns=15,rs=8,is=29,wn=256+1+is,as=30,ss=19,os=2*wn+1,ls=15,K=3,Me=258,Re=Me+K+1,fs=32,at=42,mn=57,yn=69,vn=73,An=91,En=103,qe=113,vt=666,fe=1,st=2,Ye=3,ot=4,us=3,Ve=(e,n)=>(e.msg=Xe[n],n),Sr=e=>e*2-(e>4?9:0),Ue=e=>{let n=e.length;for(;--n>=0;)e[n]=0},cs=e=>{let n,t,r,i=e.w_size;n=e.hash_size,r=n;do t=e.head[--r],e.head[r]=t>=i?t-i:0;while(--n);n=i,r=n;do t=e.prev[--r],e.prev[r]=t>=i?t-i:0;while(--n)};let Be=(e,n,t)=>(n<<e.hash_shift^t)&e.hash_mask;const de=e=>{const n=e.state;let t=n.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(e.output.set(n.pending_buf.subarray(n.pending_out,n.pending_out+t),e.next_out),e.next_out+=t,n.pending_out+=t,e.total_out+=t,e.avail_out-=t,n.pending-=t,n.pending===0&&(n.pending_out=0))},_e=(e,n)=>{Ga(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,n),e.block_start=e.strstart,de(e.strm)},W=(e,n)=>{e.pending_buf[e.pending++]=n},At=(e,n)=>{e.pending_buf[e.pending++]=n>>>8&255,e.pending_buf[e.pending++]=n&255},xn=(e,n,t,r)=>{let i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,n.set(e.input.subarray(e.next_in,e.next_in+i),t),e.state.wrap===1?e.adler=yt(e.adler,n,i,t):e.state.wrap===2&&(e.adler=se(e.adler,n,i,t)),e.next_in+=i,e.total_in+=i,i)},kr=(e,n)=>{let t=e.max_chain_length,r=e.strstart,i,a,s=e.prev_length,o=e.nice_match;const u=e.strstart>e.w_size-Re?e.strstart-(e.w_size-Re):0,l=e.window,f=e.w_mask,g=e.prev,_=e.strstart+Me;let p=l[r+s-1],m=l[r+s];e.prev_length>=e.good_match&&(t>>=2),o>e.lookahead&&(o=e.lookahead);do if(i=n,!(l[i+s]!==m||l[i+s-1]!==p||l[i]!==l[r]||l[++i]!==l[r+1])){r+=2,i++;do;while(l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&r<_);if(a=Me-(_-r),r=_-Me,a>s){if(e.match_start=n,s=a,a>=o)break;p=l[r+s-1],m=l[r+s]}}while((n=g[n&f])>u&&--t!==0);return s<=e.lookahead?s:e.lookahead},lt=e=>{const n=e.w_size;let t,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=n+(n-Re)&&(e.window.set(e.window.subarray(n,n+n-r),0),e.match_start-=n,e.strstart-=n,e.block_start-=n,e.insert>e.strstart&&(e.insert=e.strstart),cs(e),r+=n),e.strm.avail_in===0)break;if(t=xn(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=t,e.lookahead+e.insert>=K)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=Be(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=Be(e,e.ins_h,e.window[i+K-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<K)););}while(e.lookahead<Re&&e.strm.avail_in!==0)},Cr=(e,n)=>{let t=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,i,a,s=0,o=e.strm.avail_in;do{if(r=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a||(a=e.strm.avail_out-a,i=e.strstart-e.block_start,r>i+e.strm.avail_in&&(r=i+e.strm.avail_in),r>a&&(r=a),r<t&&(r===0&&n!==be||n===ze||r!==i+e.strm.avail_in)))break;s=n===be&&r===i+e.strm.avail_in?1:0,gn(e,0,0,s),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,de(e.strm),i&&(i>r&&(i=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,r-=i),r&&(xn(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(s===0);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?ot:n!==ze&&n!==be&&e.strm.avail_in===0&&e.strstart===e.block_start?st:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(xn(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,t=a>e.w_size?e.w_size:a,i=e.strstart-e.block_start,(i>=t||(i||n===be)&&n!==ze&&e.strm.avail_in===0&&i<=a)&&(r=i>a?a:i,s=n===be&&e.strm.avail_in===0&&r===i?1:0,gn(e,e.block_start,r,s),e.block_start+=r,de(e.strm)),s?Ye:fe)},Rn=(e,n)=>{let t,r;for(;;){if(e.lookahead<Re){if(lt(e),e.lookahead<Re&&n===ze)return fe;if(e.lookahead===0)break}if(t=0,e.lookahead>=K&&(e.ins_h=Be(e,e.ins_h,e.window[e.strstart+K-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-Re&&(e.match_length=kr(e,t)),e.match_length>=K)if(r=Fe(e,e.strstart-e.match_start,e.match_length-K),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=K){e.match_length--;do e.strstart++,e.ins_h=Be(e,e.ins_h,e.window[e.strstart+K-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Be(e,e.ins_h,e.window[e.strstart+1]);else r=Fe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(_e(e,!1),e.strm.avail_out===0))return fe}return e.insert=e.strstart<K-1?e.strstart:K-1,n===be?(_e(e,!0),e.strm.avail_out===0?Ye:ot):e.sym_next&&(_e(e,!1),e.strm.avail_out===0)?fe:st},ft=(e,n)=>{let t,r,i;for(;;){if(e.lookahead<Re){if(lt(e),e.lookahead<Re&&n===ze)return fe;if(e.lookahead===0)break}if(t=0,e.lookahead>=K&&(e.ins_h=Be(e,e.ins_h,e.window[e.strstart+K-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=K-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-Re&&(e.match_length=kr(e,t),e.match_length<=5&&(e.strategy===qa||e.match_length===K&&e.strstart-e.match_start>4096)&&(e.match_length=K-1)),e.prev_length>=K&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-K,r=Fe(e,e.strstart-1-e.prev_match,e.prev_length-K),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=Be(e,e.ins_h,e.window[e.strstart+K-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=K-1,e.strstart++,r&&(_e(e,!1),e.strm.avail_out===0))return fe}else if(e.match_available){if(r=Fe(e,0,e.window[e.strstart-1]),r&&_e(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return fe}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Fe(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<K-1?e.strstart:K-1,n===be?(_e(e,!0),e.strm.avail_out===0?Ye:ot):e.sym_next&&(_e(e,!1),e.strm.avail_out===0)?fe:st},hs=(e,n)=>{let t,r,i,a;const s=e.window;for(;;){if(e.lookahead<=Me){if(lt(e),e.lookahead<=Me&&n===ze)return fe;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=K&&e.strstart>0&&(i=e.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){a=e.strstart+Me;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=Me-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=K?(t=Fe(e,1,e.match_length-K),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=Fe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(_e(e,!1),e.strm.avail_out===0))return fe}return e.insert=0,n===be?(_e(e,!0),e.strm.avail_out===0?Ye:ot):e.sym_next&&(_e(e,!1),e.strm.avail_out===0)?fe:st},ds=(e,n)=>{let t;for(;;){if(e.lookahead===0&&(lt(e),e.lookahead===0)){if(n===ze)return fe;break}if(e.match_length=0,t=Fe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(_e(e,!1),e.strm.avail_out===0))return fe}return e.insert=0,n===be?(_e(e,!0),e.strm.avail_out===0?Ye:ot):e.sym_next&&(_e(e,!1),e.strm.avail_out===0)?fe:st};function Se(e,n,t,r,i){this.good_length=e,this.max_lazy=n,this.nice_length=t,this.max_chain=r,this.func=i}const Et=[new Se(0,0,0,0,Cr),new Se(4,4,8,4,Rn),new Se(4,5,16,8,Rn),new Se(4,6,32,32,Rn),new Se(4,4,16,16,ft),new Se(8,16,32,32,ft),new Se(8,16,128,128,ft),new Se(8,32,128,256,ft),new Se(32,128,258,1024,ft),new Se(32,258,258,4096,ft)],_s=e=>{e.window_size=2*e.w_size,Ue(e.head),e.max_lazy_match=Et[e.level].max_lazy,e.good_match=Et[e.level].good_length,e.nice_match=Et[e.level].nice_length,e.max_chain_length=Et[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=K-1,e.match_available=0,e.ins_h=0};function ps(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Zt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(os*2),this.dyn_dtree=new Uint16Array((2*as+1)*2),this.bl_tree=new Uint16Array((2*ss+1)*2),Ue(this.dyn_ltree),Ue(this.dyn_dtree),Ue(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(ls+1),this.heap=new Uint16Array(2*wn+1),Ue(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*wn+1),Ue(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const xt=e=>{if(!e)return 1;const n=e.state;return!n||n.strm!==e||n.status!==at&&n.status!==mn&&n.status!==yn&&n.status!==vn&&n.status!==An&&n.status!==En&&n.status!==qe&&n.status!==vt?1:0},Tr=e=>{if(xt(e))return Ve(e,xe);e.total_in=e.total_out=0,e.data_type=es;const n=e.state;return n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap===2?mn:n.wrap?at:qe,e.adler=n.wrap===2?0:1,n.last_flush=-2,Za(n),oe},Or=e=>{const n=Tr(e);return n===oe&&_s(e.state),n},gs=(e,n)=>xt(e)||e.state.wrap!==2?xe:(e.state.gzhead=n,oe),$r=(e,n,t,r,i,a)=>{if(!e)return xe;let s=1;if(n===Qa&&(n=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>ts||t!==Zt||r<8||r>15||n<0||n>9||a<0||a>Va||r===8&&s!==1)return Ve(e,xe);r===8&&(r=9);const o=new ps;return e.state=o,o.strm=e,o.status=at,o.wrap=s,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+K-1)/K),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=n,o.strategy=a,o.method=t,Or(e)},bs=(e,n)=>$r(e,n,Zt,ns,rs,Ja),ws=(e,n)=>{if(xt(e)||n>xr||n<0)return e?Ve(e,xe):xe;const t=e.state;if(!e.output||e.avail_in!==0&&!e.input||t.status===vt&&n!==be)return Ve(e,e.avail_out===0?bn:xe);const r=t.last_flush;if(t.last_flush=n,t.pending!==0){if(de(e),e.avail_out===0)return t.last_flush=-1,oe}else if(e.avail_in===0&&Sr(n)<=Sr(r)&&n!==be)return Ve(e,bn);if(t.status===vt&&e.avail_in!==0)return Ve(e,bn);if(t.status===at&&t.wrap===0&&(t.status=qe),t.status===at){let i=Zt+(t.w_bits-8<<4)<<8,a=-1;if(t.strategy>=Pt||t.level<2?a=0:t.level<6?a=1:t.level===6?a=2:a=3,i|=a<<6,t.strstart!==0&&(i|=fs),i+=31-i%31,At(t,i),t.strstart!==0&&(At(t,e.adler>>>16),At(t,e.adler&65535)),e.adler=1,t.status=qe,de(e),t.pending!==0)return t.last_flush=-1,oe}if(t.status===mn){if(e.adler=0,W(t,31),W(t,139),W(t,8),t.gzhead)W(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),W(t,t.gzhead.time&255),W(t,t.gzhead.time>>8&255),W(t,t.gzhead.time>>16&255),W(t,t.gzhead.time>>24&255),W(t,t.level===9?2:t.strategy>=Pt||t.level<2?4:0),W(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(W(t,t.gzhead.extra.length&255),W(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(e.adler=se(e.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=yn;else if(W(t,0),W(t,0),W(t,0),W(t,0),W(t,0),W(t,t.level===9?2:t.strategy>=Pt||t.level<2?4:0),W(t,us),t.status=qe,de(e),t.pending!==0)return t.last_flush=-1,oe}if(t.status===yn){if(t.gzhead.extra){let i=t.pending,a=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+a>t.pending_buf_size;){let o=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+o),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>i&&(e.adler=se(e.adler,t.pending_buf,t.pending-i,i)),t.gzindex+=o,de(e),t.pending!==0)return t.last_flush=-1,oe;i=0,a-=o}let s=new Uint8Array(t.gzhead.extra);t.pending_buf.set(s.subarray(t.gzindex,t.gzindex+a),t.pending),t.pending+=a,t.gzhead.hcrc&&t.pending>i&&(e.adler=se(e.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=vn}if(t.status===vn){if(t.gzhead.name){let i=t.pending,a;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(e.adler=se(e.adler,t.pending_buf,t.pending-i,i)),de(e),t.pending!==0)return t.last_flush=-1,oe;i=0}t.gzindex<t.gzhead.name.length?a=t.gzhead.name.charCodeAt(t.gzindex++)&255:a=0,W(t,a)}while(a!==0);t.gzhead.hcrc&&t.pending>i&&(e.adler=se(e.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=An}if(t.status===An){if(t.gzhead.comment){let i=t.pending,a;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(e.adler=se(e.adler,t.pending_buf,t.pending-i,i)),de(e),t.pending!==0)return t.last_flush=-1,oe;i=0}t.gzindex<t.gzhead.comment.length?a=t.gzhead.comment.charCodeAt(t.gzindex++)&255:a=0,W(t,a)}while(a!==0);t.gzhead.hcrc&&t.pending>i&&(e.adler=se(e.adler,t.pending_buf,t.pending-i,i))}t.status=En}if(t.status===En){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(de(e),t.pending!==0))return t.last_flush=-1,oe;W(t,e.adler&255),W(t,e.adler>>8&255),e.adler=0}if(t.status=qe,de(e),t.pending!==0)return t.last_flush=-1,oe}if(e.avail_in!==0||t.lookahead!==0||n!==ze&&t.status!==vt){let i=t.level===0?Cr(t,n):t.strategy===Pt?ds(t,n):t.strategy===Ya?hs(t,n):Et[t.level].func(t,n);if((i===Ye||i===ot)&&(t.status=vt),i===fe||i===Ye)return e.avail_out===0&&(t.last_flush=-1),oe;if(i===st&&(n===ja?Ka(t):n!==xr&&(gn(t,0,0,!1),n===Wa&&(Ue(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),de(e),e.avail_out===0))return t.last_flush=-1,oe}return n!==be?oe:t.wrap<=0?Rr:(t.wrap===2?(W(t,e.adler&255),W(t,e.adler>>8&255),W(t,e.adler>>16&255),W(t,e.adler>>24&255),W(t,e.total_in&255),W(t,e.total_in>>8&255),W(t,e.total_in>>16&255),W(t,e.total_in>>24&255)):(At(t,e.adler>>>16),At(t,e.adler&65535)),de(e),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?oe:Rr)},ms=e=>{if(xt(e))return xe;const n=e.state.status;return e.state=null,n===qe?Ve(e,Xa):oe},ys=(e,n)=>{let t=n.length;if(xt(e))return xe;const r=e.state,i=r.wrap;if(i===2||i===1&&r.status!==at||r.lookahead)return xe;if(i===1&&(e.adler=yt(e.adler,n,t,0)),r.wrap=0,t>=r.w_size){i===0&&(Ue(r.head),r.strstart=0,r.block_start=0,r.insert=0);let u=new Uint8Array(r.w_size);u.set(n.subarray(t-r.w_size,t),0),n=u,t=r.w_size}const a=e.avail_in,s=e.next_in,o=e.input;for(e.avail_in=t,e.next_in=0,e.input=n,lt(r);r.lookahead>=K;){let u=r.strstart,l=r.lookahead-(K-1);do r.ins_h=Be(r,r.ins_h,r.window[u+K-1]),r.prev[u&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=u,u++;while(--l);r.strstart=u,r.lookahead=K-1,lt(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=K-1,r.match_available=0,e.next_in=s,e.input=o,e.avail_in=a,r.wrap=i,oe};var vs=bs,As=$r,Es=Or,xs=Tr,Rs=gs,Ss=ws,ks=ms,Cs=ys,Ts="pako deflate (from Nodeca project)",Rt={deflateInit:vs,deflateInit2:As,deflateReset:Es,deflateResetKeep:xs,deflateSetHeader:Rs,deflate:Ss,deflateEnd:ks,deflateSetDictionary:Cs,deflateInfo:Ts};const Os=(e,n)=>Object.prototype.hasOwnProperty.call(e,n);var $s=function(e){const n=Array.prototype.slice.call(arguments,1);for(;n.length;){const t=n.shift();if(!!t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)Os(t,r)&&(e[r]=t[r])}}return e},Ls=e=>{let n=0;for(let r=0,i=e.length;r<i;r++)n+=e[r].length;const t=new Uint8Array(n);for(let r=0,i=0,a=e.length;r<a;r++){let s=e[r];t.set(s,i),i+=s.length}return t},Gt={assign:$s,flattenChunks:Ls};let Lr=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Lr=!1}const St=new Uint8Array(256);for(let e=0;e<256;e++)St[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;St[254]=St[254]=1;var Hs=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let n,t,r,i,a,s=e.length,o=0;for(i=0;i<s;i++)t=e.charCodeAt(i),(t&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(n=new Uint8Array(o),a=0,i=0;a<o;i++)t=e.charCodeAt(i),(t&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?n[a++]=t:t<2048?(n[a++]=192|t>>>6,n[a++]=128|t&63):t<65536?(n[a++]=224|t>>>12,n[a++]=128|t>>>6&63,n[a++]=128|t&63):(n[a++]=240|t>>>18,n[a++]=128|t>>>12&63,n[a++]=128|t>>>6&63,n[a++]=128|t&63);return n};const Ns=(e,n)=>{if(n<65534&&e.subarray&&Lr)return String.fromCharCode.apply(null,e.length===n?e:e.subarray(0,n));let t="";for(let r=0;r<n;r++)t+=String.fromCharCode(e[r]);return t};var Is=(e,n)=>{const t=n||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,n));let r,i;const a=new Array(t*2);for(i=0,r=0;r<t;){let s=e[r++];if(s<128){a[i++]=s;continue}let o=St[s];if(o>4){a[i++]=65533,r+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&r<t;)s=s<<6|e[r++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return Ns(a,i)},Ds=(e,n)=>{n=n||e.length,n>e.length&&(n=e.length);let t=n-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?n:t+St[e[t]]>n?t:n},kt={string2buf:Hs,buf2string:Is,utf8border:Ds};function Fs(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Hr=Fs;const Nr=Object.prototype.toString,{Z_NO_FLUSH:zs,Z_SYNC_FLUSH:Ms,Z_FULL_FLUSH:Us,Z_FINISH:Bs,Z_OK:Kt,Z_STREAM_END:Ps,Z_DEFAULT_COMPRESSION:Zs,Z_DEFAULT_STRATEGY:Gs,Z_DEFLATED:Ks}=Qe;function Ct(e){this.options=Gt.assign({level:Zs,method:Ks,chunkSize:16384,windowBits:15,memLevel:8,strategy:Gs},e||{});let n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Hr,this.strm.avail_out=0;let t=Rt.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(t!==Kt)throw new Error(Xe[t]);if(n.header&&Rt.deflateSetHeader(this.strm,n.header),n.dictionary){let r;if(typeof n.dictionary=="string"?r=kt.string2buf(n.dictionary):Nr.call(n.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(n.dictionary):r=n.dictionary,t=Rt.deflateSetDictionary(this.strm,r),t!==Kt)throw new Error(Xe[t]);this._dict_set=!0}}Ct.prototype.push=function(e,n){const t=this.strm,r=this.options.chunkSize;let i,a;if(this.ended)return!1;for(n===~~n?a=n:a=n===!0?Bs:zs,typeof e=="string"?t.input=kt.string2buf(e):Nr.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),(a===Ms||a===Us)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(i=Rt.deflate(t,a),i===Ps)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),i=Rt.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Kt;if(t.avail_out===0){this.onData(t.output);continue}if(a>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0},Ct.prototype.onData=function(e){this.chunks.push(e)},Ct.prototype.onEnd=function(e){e===Kt&&(this.result=Gt.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Sn(e,n){const t=new Ct(n);if(t.push(e,!0),t.err)throw t.msg||Xe[t.err];return t.result}function js(e,n){return n=n||{},n.raw=!0,Sn(e,n)}function Ws(e,n){return n=n||{},n.gzip=!0,Sn(e,n)}var Xs=Ct,Qs=Sn,qs=js,Ys=Ws,Vs=Qe,Js={Deflate:Xs,deflate:Qs,deflateRaw:qs,gzip:Ys,constants:Vs};const jt=16209,eo=16191;var to=function(n,t){let r,i,a,s,o,u,l,f,g,_,p,m,A,$,O,B,H,S,M,X,T,v,d,h;const c=n.state;r=n.next_in,d=n.input,i=r+(n.avail_in-5),a=n.next_out,h=n.output,s=a-(t-n.avail_out),o=a+(n.avail_out-257),u=c.dmax,l=c.wsize,f=c.whave,g=c.wnext,_=c.window,p=c.hold,m=c.bits,A=c.lencode,$=c.distcode,O=(1<<c.lenbits)-1,B=(1<<c.distbits)-1;e:do{m<15&&(p+=d[r++]<<m,m+=8,p+=d[r++]<<m,m+=8),H=A[p&O];t:for(;;){if(S=H>>>24,p>>>=S,m-=S,S=H>>>16&255,S===0)h[a++]=H&65535;else if(S&16){M=H&65535,S&=15,S&&(m<S&&(p+=d[r++]<<m,m+=8),M+=p&(1<<S)-1,p>>>=S,m-=S),m<15&&(p+=d[r++]<<m,m+=8,p+=d[r++]<<m,m+=8),H=$[p&B];n:for(;;){if(S=H>>>24,p>>>=S,m-=S,S=H>>>16&255,S&16){if(X=H&65535,S&=15,m<S&&(p+=d[r++]<<m,m+=8,m<S&&(p+=d[r++]<<m,m+=8)),X+=p&(1<<S)-1,X>u){n.msg="invalid distance too far back",c.mode=jt;break e}if(p>>>=S,m-=S,S=a-s,X>S){if(S=X-S,S>f&&c.sane){n.msg="invalid distance too far back",c.mode=jt;break e}if(T=0,v=_,g===0){if(T+=l-S,S<M){M-=S;do h[a++]=_[T++];while(--S);T=a-X,v=h}}else if(g<S){if(T+=l+g-S,S-=g,S<M){M-=S;do h[a++]=_[T++];while(--S);if(T=0,g<M){S=g,M-=S;do h[a++]=_[T++];while(--S);T=a-X,v=h}}}else if(T+=g-S,S<M){M-=S;do h[a++]=_[T++];while(--S);T=a-X,v=h}for(;M>2;)h[a++]=v[T++],h[a++]=v[T++],h[a++]=v[T++],M-=3;M&&(h[a++]=v[T++],M>1&&(h[a++]=v[T++]))}else{T=a-X;do h[a++]=h[T++],h[a++]=h[T++],h[a++]=h[T++],M-=3;while(M>2);M&&(h[a++]=h[T++],M>1&&(h[a++]=h[T++]))}}else if((S&64)===0){H=$[(H&65535)+(p&(1<<S)-1)];continue n}else{n.msg="invalid distance code",c.mode=jt;break e}break}}else if((S&64)===0){H=A[(H&65535)+(p&(1<<S)-1)];continue t}else if(S&32){c.mode=eo;break e}else{n.msg="invalid literal/length code",c.mode=jt;break e}break}}while(r<i&&a<o);M=m>>3,r-=M,m-=M<<3,p&=(1<<m)-1,n.next_in=r,n.next_out=a,n.avail_in=r<i?5+(i-r):5-(r-i),n.avail_out=a<o?257+(o-a):257-(a-o),c.hold=p,c.bits=m};const ut=15,Ir=852,Dr=592,Fr=0,kn=1,zr=2,no=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ro=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),io=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ao=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Tt=(e,n,t,r,i,a,s,o)=>{const u=o.bits;let l=0,f=0,g=0,_=0,p=0,m=0,A=0,$=0,O=0,B=0,H,S,M,X,T,v=null,d;const h=new Uint16Array(ut+1),c=new Uint16Array(ut+1);let x=null,k,D,b;for(l=0;l<=ut;l++)h[l]=0;for(f=0;f<r;f++)h[n[t+f]]++;for(p=u,_=ut;_>=1&&h[_]===0;_--);if(p>_&&(p=_),_===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(g=1;g<_&&h[g]===0;g++);for(p<g&&(p=g),$=1,l=1;l<=ut;l++)if($<<=1,$-=h[l],$<0)return-1;if($>0&&(e===Fr||_!==1))return-1;for(c[1]=0,l=1;l<ut;l++)c[l+1]=c[l]+h[l];for(f=0;f<r;f++)n[t+f]!==0&&(s[c[n[t+f]]++]=f);if(e===Fr?(v=x=s,d=20):e===kn?(v=no,x=ro,d=257):(v=io,x=ao,d=0),B=0,f=0,l=g,T=a,m=p,A=0,M=-1,O=1<<p,X=O-1,e===kn&&O>Ir||e===zr&&O>Dr)return 1;for(;;){k=l-A,s[f]+1<d?(D=0,b=s[f]):s[f]>=d?(D=x[s[f]-d],b=v[s[f]-d]):(D=32+64,b=0),H=1<<l-A,S=1<<m,g=S;do S-=H,i[T+(B>>A)+S]=k<<24|D<<16|b|0;while(S!==0);for(H=1<<l-1;B&H;)H>>=1;if(H!==0?(B&=H-1,B+=H):B=0,f++,--h[l]===0){if(l===_)break;l=n[t+s[f]]}if(l>p&&(B&X)!==M){for(A===0&&(A=p),T+=g,m=l-A,$=1<<m;m+A<_&&($-=h[m+A],!($<=0));)m++,$<<=1;if(O+=1<<m,e===kn&&O>Ir||e===zr&&O>Dr)return 1;M=B&X,i[M]=p<<24|m<<16|T-a|0}}return B!==0&&(i[T+B]=l-A<<24|64<<16|0),o.bits=p,0};const so=0,Mr=1,Ur=2,{Z_FINISH:Br,Z_BLOCK:oo,Z_TREES:Wt,Z_OK:Je,Z_STREAM_END:lo,Z_NEED_DICT:fo,Z_STREAM_ERROR:we,Z_DATA_ERROR:Pr,Z_MEM_ERROR:Zr,Z_BUF_ERROR:uo,Z_DEFLATED:Gr}=Qe,Xt=16180,Kr=16181,jr=16182,Wr=16183,Xr=16184,Qr=16185,qr=16186,Yr=16187,Vr=16188,Jr=16189,Qt=16190,Le=16191,Cn=16192,ei=16193,Tn=16194,ti=16195,ni=16196,ri=16197,ii=16198,qt=16199,Yt=16200,ai=16201,si=16202,oi=16203,li=16204,fi=16205,On=16206,ui=16207,ci=16208,Y=16209,hi=16210,di=16211,co=852,ho=592,_o=15,_i=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function po(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const et=e=>{if(!e)return 1;const n=e.state;return!n||n.strm!==e||n.mode<Xt||n.mode>di?1:0},pi=e=>{if(et(e))return we;const n=e.state;return e.total_in=e.total_out=n.total=0,e.msg="",n.wrap&&(e.adler=n.wrap&1),n.mode=Xt,n.last=0,n.havedict=0,n.flags=-1,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Int32Array(co),n.distcode=n.distdyn=new Int32Array(ho),n.sane=1,n.back=-1,Je},gi=e=>{if(et(e))return we;const n=e.state;return n.wsize=0,n.whave=0,n.wnext=0,pi(e)},bi=(e,n)=>{let t;if(et(e))return we;const r=e.state;return n<0?(t=0,n=-n):(t=(n>>4)+5,n<48&&(n&=15)),n&&(n<8||n>15)?we:(r.window!==null&&r.wbits!==n&&(r.window=null),r.wrap=t,r.wbits=n,gi(e))},wi=(e,n)=>{if(!e)return we;const t=new po;e.state=t,t.strm=e,t.window=null,t.mode=Xt;const r=bi(e,n);return r!==Je&&(e.state=null),r},go=e=>wi(e,_o);let mi=!0,$n,Ln;const bo=e=>{if(mi){$n=new Int32Array(512),Ln=new Int32Array(32);let n=0;for(;n<144;)e.lens[n++]=8;for(;n<256;)e.lens[n++]=9;for(;n<280;)e.lens[n++]=7;for(;n<288;)e.lens[n++]=8;for(Tt(Mr,e.lens,0,288,$n,0,e.work,{bits:9}),n=0;n<32;)e.lens[n++]=5;Tt(Ur,e.lens,0,32,Ln,0,e.work,{bits:5}),mi=!1}e.lencode=$n,e.lenbits=9,e.distcode=Ln,e.distbits=5},yi=(e,n,t,r)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(n.subarray(t-a.wsize,t),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(n.subarray(t-r,t-r+i),a.wnext),r-=i,r?(a.window.set(n.subarray(t-r,t),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},wo=(e,n)=>{let t,r,i,a,s,o,u,l,f,g,_,p,m,A,$=0,O,B,H,S,M,X,T,v;const d=new Uint8Array(4);let h,c;const x=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(et(e)||!e.output||!e.input&&e.avail_in!==0)return we;t=e.state,t.mode===Le&&(t.mode=Cn),s=e.next_out,i=e.output,u=e.avail_out,a=e.next_in,r=e.input,o=e.avail_in,l=t.hold,f=t.bits,g=o,_=u,v=Je;e:for(;;)switch(t.mode){case Xt:if(t.wrap===0){t.mode=Cn;break}for(;f<16;){if(o===0)break e;o--,l+=r[a++]<<f,f+=8}if(t.wrap&2&&l===35615){t.wbits===0&&(t.wbits=15),t.check=0,d[0]=l&255,d[1]=l>>>8&255,t.check=se(t.check,d,2,0),l=0,f=0,t.mode=Kr;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((l&255)<<8)+(l>>8))%31){e.msg="incorrect header check",t.mode=Y;break}if((l&15)!==Gr){e.msg="unknown compression method",t.mode=Y;break}if(l>>>=4,f-=4,T=(l&15)+8,t.wbits===0&&(t.wbits=T),T>15||T>t.wbits){e.msg="invalid window size",t.mode=Y;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=l&512?Jr:Le,l=0,f=0;break;case Kr:for(;f<16;){if(o===0)break e;o--,l+=r[a++]<<f,f+=8}if(t.flags=l,(t.flags&255)!==Gr){e.msg="unknown compression method",t.mode=Y;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=Y;break}t.head&&(t.head.text=l>>8&1),t.flags&512&&t.wrap&4&&(d[0]=l&255,d[1]=l>>>8&255,t.check=se(t.check,d,2,0)),l=0,f=0,t.mode=jr;case jr:for(;f<32;){if(o===0)break e;o--,l+=r[a++]<<f,f+=8}t.head&&(t.head.time=l),t.flags&512&&t.wrap&4&&(d[0]=l&255,d[1]=l>>>8&255,d[2]=l>>>16&255,d[3]=l>>>24&255,t.check=se(t.check,d,4,0)),l=0,f=0,t.mode=Wr;case Wr:for(;f<16;){if(o===0)break e;o--,l+=r[a++]<<f,f+=8}t.head&&(t.head.xflags=l&255,t.head.os=l>>8),t.flags&512&&t.wrap&4&&(d[0]=l&255,d[1]=l>>>8&255,t.check=se(t.check,d,2,0)),l=0,f=0,t.mode=Xr;case Xr:if(t.flags&1024){for(;f<16;){if(o===0)break e;o--,l+=r[a++]<<f,f+=8}t.length=l,t.head&&(t.head.extra_len=l),t.flags&512&&t.wrap&4&&(d[0]=l&255,d[1]=l>>>8&255,t.check=se(t.check,d,2,0)),l=0,f=0}else t.head&&(t.head.extra=null);t.mode=Qr;case Qr:if(t.flags&1024&&(p=t.length,p>o&&(p=o),p&&(t.head&&(T=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(a,a+p),T)),t.flags&512&&t.wrap&4&&(t.check=se(t.check,r,p,a)),o-=p,a+=p,t.length-=p),t.length))break e;t.length=0,t.mode=qr;case qr:if(t.flags&2048){if(o===0)break e;p=0;do T=r[a+p++],t.head&&T&&t.length<65536&&(t.head.name+=String.fromCharCode(T));while(T&&p<o);if(t.flags&512&&t.wrap&4&&(t.check=se(t.check,r,p,a)),o-=p,a+=p,T)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Yr;case Yr:if(t.flags&4096){if(o===0)break e;p=0;do T=r[a+p++],t.head&&T&&t.length<65536&&(t.head.comment+=String.fromCharCode(T));while(T&&p<o);if(t.flags&512&&t.wrap&4&&(t.check=se(t.check,r,p,a)),o-=p,a+=p,T)break e}else t.head&&(t.head.comment=null);t.mode=Vr;case Vr:if(t.flags&512){for(;f<16;){if(o===0)break e;o--,l+=r[a++]<<f,f+=8}if(t.wrap&4&&l!==(t.check&65535)){e.msg="header crc mismatch",t.mode=Y;break}l=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=Le;break;case Jr:for(;f<32;){if(o===0)break e;o--,l+=r[a++]<<f,f+=8}e.adler=t.check=_i(l),l=0,f=0,t.mode=Qt;case Qt:if(t.havedict===0)return e.next_out=s,e.avail_out=u,e.next_in=a,e.avail_in=o,t.hold=l,t.bits=f,fo;e.adler=t.check=1,t.mode=Le;case Le:if(n===oo||n===Wt)break e;case Cn:if(t.last){l>>>=f&7,f-=f&7,t.mode=On;break}for(;f<3;){if(o===0)break e;o--,l+=r[a++]<<f,f+=8}switch(t.last=l&1,l>>>=1,f-=1,l&3){case 0:t.mode=ei;break;case 1:if(bo(t),t.mode=qt,n===Wt){l>>>=2,f-=2;break e}break;case 2:t.mode=ni;break;case 3:e.msg="invalid block type",t.mode=Y}l>>>=2,f-=2;break;case ei:for(l>>>=f&7,f-=f&7;f<32;){if(o===0)break e;o--,l+=r[a++]<<f,f+=8}if((l&65535)!==(l>>>16^65535)){e.msg="invalid stored block lengths",t.mode=Y;break}if(t.length=l&65535,l=0,f=0,t.mode=Tn,n===Wt)break e;case Tn:t.mode=ti;case ti:if(p=t.length,p){if(p>o&&(p=o),p>u&&(p=u),p===0)break e;i.set(r.subarray(a,a+p),s),o-=p,a+=p,u-=p,s+=p,t.length-=p;break}t.mode=Le;break;case ni:for(;f<14;){if(o===0)break e;o--,l+=r[a++]<<f,f+=8}if(t.nlen=(l&31)+257,l>>>=5,f-=5,t.ndist=(l&31)+1,l>>>=5,f-=5,t.ncode=(l&15)+4,l>>>=4,f-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=Y;break}t.have=0,t.mode=ri;case ri:for(;t.have<t.ncode;){for(;f<3;){if(o===0)break e;o--,l+=r[a++]<<f,f+=8}t.lens[x[t.have++]]=l&7,l>>>=3,f-=3}for(;t.have<19;)t.lens[x[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,h={bits:t.lenbits},v=Tt(so,t.lens,0,19,t.lencode,0,t.work,h),t.lenbits=h.bits,v){e.msg="invalid code lengths set",t.mode=Y;break}t.have=0,t.mode=ii;case ii:for(;t.have<t.nlen+t.ndist;){for(;$=t.lencode[l&(1<<t.lenbits)-1],O=$>>>24,B=$>>>16&255,H=$&65535,!(O<=f);){if(o===0)break e;o--,l+=r[a++]<<f,f+=8}if(H<16)l>>>=O,f-=O,t.lens[t.have++]=H;else{if(H===16){for(c=O+2;f<c;){if(o===0)break e;o--,l+=r[a++]<<f,f+=8}if(l>>>=O,f-=O,t.have===0){e.msg="invalid bit length repeat",t.mode=Y;break}T=t.lens[t.have-1],p=3+(l&3),l>>>=2,f-=2}else if(H===17){for(c=O+3;f<c;){if(o===0)break e;o--,l+=r[a++]<<f,f+=8}l>>>=O,f-=O,T=0,p=3+(l&7),l>>>=3,f-=3}else{for(c=O+7;f<c;){if(o===0)break e;o--,l+=r[a++]<<f,f+=8}l>>>=O,f-=O,T=0,p=11+(l&127),l>>>=7,f-=7}if(t.have+p>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=Y;break}for(;p--;)t.lens[t.have++]=T}}if(t.mode===Y)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=Y;break}if(t.lenbits=9,h={bits:t.lenbits},v=Tt(Mr,t.lens,0,t.nlen,t.lencode,0,t.work,h),t.lenbits=h.bits,v){e.msg="invalid literal/lengths set",t.mode=Y;break}if(t.distbits=6,t.distcode=t.distdyn,h={bits:t.distbits},v=Tt(Ur,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,h),t.distbits=h.bits,v){e.msg="invalid distances set",t.mode=Y;break}if(t.mode=qt,n===Wt)break e;case qt:t.mode=Yt;case Yt:if(o>=6&&u>=258){e.next_out=s,e.avail_out=u,e.next_in=a,e.avail_in=o,t.hold=l,t.bits=f,to(e,_),s=e.next_out,i=e.output,u=e.avail_out,a=e.next_in,r=e.input,o=e.avail_in,l=t.hold,f=t.bits,t.mode===Le&&(t.back=-1);break}for(t.back=0;$=t.lencode[l&(1<<t.lenbits)-1],O=$>>>24,B=$>>>16&255,H=$&65535,!(O<=f);){if(o===0)break e;o--,l+=r[a++]<<f,f+=8}if(B&&(B&240)===0){for(S=O,M=B,X=H;$=t.lencode[X+((l&(1<<S+M)-1)>>S)],O=$>>>24,B=$>>>16&255,H=$&65535,!(S+O<=f);){if(o===0)break e;o--,l+=r[a++]<<f,f+=8}l>>>=S,f-=S,t.back+=S}if(l>>>=O,f-=O,t.back+=O,t.length=H,B===0){t.mode=fi;break}if(B&32){t.back=-1,t.mode=Le;break}if(B&64){e.msg="invalid literal/length code",t.mode=Y;break}t.extra=B&15,t.mode=ai;case ai:if(t.extra){for(c=t.extra;f<c;){if(o===0)break e;o--,l+=r[a++]<<f,f+=8}t.length+=l&(1<<t.extra)-1,l>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=si;case si:for(;$=t.distcode[l&(1<<t.distbits)-1],O=$>>>24,B=$>>>16&255,H=$&65535,!(O<=f);){if(o===0)break e;o--,l+=r[a++]<<f,f+=8}if((B&240)===0){for(S=O,M=B,X=H;$=t.distcode[X+((l&(1<<S+M)-1)>>S)],O=$>>>24,B=$>>>16&255,H=$&65535,!(S+O<=f);){if(o===0)break e;o--,l+=r[a++]<<f,f+=8}l>>>=S,f-=S,t.back+=S}if(l>>>=O,f-=O,t.back+=O,B&64){e.msg="invalid distance code",t.mode=Y;break}t.offset=H,t.extra=B&15,t.mode=oi;case oi:if(t.extra){for(c=t.extra;f<c;){if(o===0)break e;o--,l+=r[a++]<<f,f+=8}t.offset+=l&(1<<t.extra)-1,l>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=Y;break}t.mode=li;case li:if(u===0)break e;if(p=_-u,t.offset>p){if(p=t.offset-p,p>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=Y;break}p>t.wnext?(p-=t.wnext,m=t.wsize-p):m=t.wnext-p,p>t.length&&(p=t.length),A=t.window}else A=i,m=s-t.offset,p=t.length;p>u&&(p=u),u-=p,t.length-=p;do i[s++]=A[m++];while(--p);t.length===0&&(t.mode=Yt);break;case fi:if(u===0)break e;i[s++]=t.length,u--,t.mode=Yt;break;case On:if(t.wrap){for(;f<32;){if(o===0)break e;o--,l|=r[a++]<<f,f+=8}if(_-=u,e.total_out+=_,t.total+=_,t.wrap&4&&_&&(e.adler=t.check=t.flags?se(t.check,i,_,s-_):yt(t.check,i,_,s-_)),_=u,t.wrap&4&&(t.flags?l:_i(l))!==t.check){e.msg="incorrect data check",t.mode=Y;break}l=0,f=0}t.mode=ui;case ui:if(t.wrap&&t.flags){for(;f<32;){if(o===0)break e;o--,l+=r[a++]<<f,f+=8}if(t.wrap&4&&l!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=Y;break}l=0,f=0}t.mode=ci;case ci:v=lo;break e;case Y:v=Pr;break e;case hi:return Zr;case di:default:return we}return e.next_out=s,e.avail_out=u,e.next_in=a,e.avail_in=o,t.hold=l,t.bits=f,(t.wsize||_!==e.avail_out&&t.mode<Y&&(t.mode<On||n!==Br))&&yi(e,e.output,e.next_out,_-e.avail_out),g-=e.avail_in,_-=e.avail_out,e.total_in+=g,e.total_out+=_,t.total+=_,t.wrap&4&&_&&(e.adler=t.check=t.flags?se(t.check,i,_,e.next_out-_):yt(t.check,i,_,e.next_out-_)),e.data_type=t.bits+(t.last?64:0)+(t.mode===Le?128:0)+(t.mode===qt||t.mode===Tn?256:0),(g===0&&_===0||n===Br)&&v===Je&&(v=uo),v},mo=e=>{if(et(e))return we;let n=e.state;return n.window&&(n.window=null),e.state=null,Je},yo=(e,n)=>{if(et(e))return we;const t=e.state;return(t.wrap&2)===0?we:(t.head=n,n.done=!1,Je)},vo=(e,n)=>{const t=n.length;let r,i,a;return et(e)||(r=e.state,r.wrap!==0&&r.mode!==Qt)?we:r.mode===Qt&&(i=1,i=yt(i,n,t,0),i!==r.check)?Pr:(a=yi(e,n,t,t),a?(r.mode=hi,Zr):(r.havedict=1,Je))};var Ao=gi,Eo=bi,xo=pi,Ro=go,So=wi,ko=wo,Co=mo,To=yo,Oo=vo,$o="pako inflate (from Nodeca project)",He={inflateReset:Ao,inflateReset2:Eo,inflateResetKeep:xo,inflateInit:Ro,inflateInit2:So,inflate:ko,inflateEnd:Co,inflateGetHeader:To,inflateSetDictionary:Oo,inflateInfo:$o};function Lo(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Ho=Lo;const vi=Object.prototype.toString,{Z_NO_FLUSH:No,Z_FINISH:Io,Z_OK:Ot,Z_STREAM_END:Hn,Z_NEED_DICT:Nn,Z_STREAM_ERROR:Do,Z_DATA_ERROR:Ai,Z_MEM_ERROR:Fo}=Qe;function $t(e){this.options=Gt.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),n.windowBits>=0&&n.windowBits<16&&!(e&&e.windowBits)&&(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&(n.windowBits&15)===0&&(n.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Hr,this.strm.avail_out=0;let t=He.inflateInit2(this.strm,n.windowBits);if(t!==Ot)throw new Error(Xe[t]);if(this.header=new Ho,He.inflateGetHeader(this.strm,this.header),n.dictionary&&(typeof n.dictionary=="string"?n.dictionary=kt.string2buf(n.dictionary):vi.call(n.dictionary)==="[object ArrayBuffer]"&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(t=He.inflateSetDictionary(this.strm,n.dictionary),t!==Ot)))throw new Error(Xe[t])}$t.prototype.push=function(e,n){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(n===~~n?s=n:s=n===!0?Io:No,vi.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),a=He.inflate(t,s),a===Nn&&i&&(a=He.inflateSetDictionary(t,i),a===Ot?a=He.inflate(t,s):a===Ai&&(a=Nn));t.avail_in>0&&a===Hn&&t.state.wrap>0&&e[t.next_in]!==0;)He.inflateReset(t),a=He.inflate(t,s);switch(a){case Do:case Ai:case Nn:case Fo:return this.onEnd(a),this.ended=!0,!1}if(o=t.avail_out,t.next_out&&(t.avail_out===0||a===Hn))if(this.options.to==="string"){let u=kt.utf8border(t.output,t.next_out),l=t.next_out-u,f=kt.buf2string(t.output,u);t.next_out=l,t.avail_out=r-l,l&&t.output.set(t.output.subarray(u,u+l),0),this.onData(f)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(a===Ot&&o===0)){if(a===Hn)return a=He.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(t.avail_in===0)break}}return!0},$t.prototype.onData=function(e){this.chunks.push(e)},$t.prototype.onEnd=function(e){e===Ot&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Gt.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function In(e,n){const t=new $t(n);if(t.push(e),t.err)throw t.msg||Xe[t.err];return t.result}function zo(e,n){return n=n||{},n.raw=!0,In(e,n)}var Mo=$t,Uo=In,Bo=zo,Po=In,Zo=Qe,Go={Inflate:Mo,inflate:Uo,inflateRaw:Bo,ungzip:Po,constants:Zo};const{Deflate:Ko,deflate:jo,deflateRaw:Wo,gzip:Xo}=Js,{Inflate:Qo,inflate:qo,inflateRaw:Yo,ungzip:Vo}=Go;var Jo=Ko,el=jo,tl=Wo,nl=Xo,rl=Qo,il=qo,al=Yo,sl=Vo,ol=Qe,Ei={Deflate:Jo,deflate:el,deflateRaw:tl,gzip:nl,Inflate:rl,inflate:il,inflateRaw:al,ungzip:sl,constants:ol},he=(e=>(e[e.NUMBER=0]="NUMBER",e[e.STRING=1]="STRING",e[e.BOOLEAN=2]="BOOLEAN",e[e.DATE=3]="DATE",e[e.LOOKUP=4]="LOOKUP",e[e.UNKNOWN=5]="UNKNOWN",e))(he||{});function ll(){return this._source.cancel()}function xi(e){return/^[nf]$/i.test(e)?!1:/^[yt]$/i.test(e)?!0:null}function Ri(e){return new Date(+e.substring(0,4),e.substring(4,6)-1,+e.substring(6,8))}function Ne(e){return!(e=e.trim())||isNaN(e=+e)?null:e}function Si(e){return e.trim()||null}var fl={B:Ne,C:Si,D:Ri,F:Ne,L:xi,M:Ne,N:Ne};function ul(){var e=this,n=1;return e._source.slice(e._recordLength).then(function(t){return t&&t[0]!==26?{done:!1,value:e._fields.reduce(function(r,i){return r[i.name]=fl[i.type](e._decode(t.subarray(n,n+=i.length))),r},{})}:{done:!0,value:void 0}})}var ki={B:Ne,C:Si,D:Ri,F:Ne,L:xi,M:Ne,N:Ne};const cl={B:he.NUMBER,C:he.STRING,D:he.DATE,F:he.NUMBER,L:he.BOOLEAN,M:he.NUMBER,N:he.NUMBER};function hl(e,n){const t=new Uint8Array(e),r=new DataView(e.slice(0,32)),i=r.getUint16(8,!0),a=new DataView(e.slice(32,i)),s=new Ci(t,n,r,a),o={},u=(t.byteLength-i-1)/s._recordLength,l=s._fields.length;console.log({numberOfColumns:l,expectedNumberOfRows:u});for(const _ of s._fields){const p=cl[_.type],A={values:ki[_.type]===Ne?new Float32Array(u):[],name:_.name,type:p};o[_.name]=A}let f=0;const g=t.byteLength;try{for(;;){const _=i+f*s._recordLength;if(_+s._recordLength>g)break;const p=t.slice(_,_+s._recordLength);if(p&&p[0]!==26){let m=1;s._fields.reduce(function(A,$){const O=ki[$.type](s._decode(p.slice(m,m+$.length)));o[$.name].values[f]=O,m=m+$.length},{}),f%5e4||console.log("dbf",f)}else break;f++}}catch(_){console.warn(_)}return console.log("dbf total records",f),o}function Ci(e,n,t,r){this._source=e,this._decode=n.decode.bind(n),this._recordLength=t.getUint16(10,!0),this._fields=[];for(var i=0;r.getUint8(i)!==13;i+=32){for(var a=0;a<11&&r.getUint8(i+a)!==0;++a);this._fields.push({name:this._decode(new Uint8Array(r.buffer,r.byteOffset+i,a)),type:String.fromCharCode(r.getUint8(i+11)),length:r.getUint8(i+16)})}}var Ti=Ci.prototype;Ti.read=ul,Ti.cancel=ll;var dl=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function _l(e){if(e.__esModule)return e;var n=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),n}var Oi={exports:{}};/* @license
Papa Parse
v5.3.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,n){(function(t,r){e.exports=r()})(dl,function t(){var r=typeof self!="undefined"?self:typeof window!="undefined"?window:r!==void 0?r:{},i=!r.document&&!!r.postMessage,a=i&&/blob:/i.test((r.location||{}).protocol),s={},o=0,u={},l=[];if(u.parse=function(d,h){var c=(h=h||{}).dynamicTyping||!1;if(v(c)&&(h.dynamicTypingFunction=c,c={}),h.dynamicTyping=c,h.transform=!!v(h.transform)&&h.transform,h.worker&&u.WORKERS_SUPPORTED){var x=function(){if(!u.WORKERS_SUPPORTED)return!1;var D=(w=r.URL||r.webkitURL||null,G=t.toString(),u.BLOB_URL||(u.BLOB_URL=w.createObjectURL(new Blob(["(",G,")();"],{type:"text/javascript"})))),b=new r.Worker(D),w,G;return b.onmessage=H,b.id=o++,s[b.id]=b}();return x.userStep=h.step,x.userChunk=h.chunk,x.userComplete=h.complete,x.userError=h.error,h.step=v(h.step),h.chunk=v(h.chunk),h.complete=v(h.complete),h.error=v(h.error),delete h.worker,void x.postMessage({input:d,config:h,workerId:x.id})}var k=null;return u.NODE_STREAM_INPUT,typeof d=="string"?k=h.download?new _(h):new m(h):d.readable===!0&&v(d.read)&&v(d.on)?k=new A(h):(r.File&&d instanceof File||d instanceof Object)&&(k=new p(h)),k.stream(d)},u.unparse=function(d,h){var c=!1,x=!0,k=",",D=`\r
`,b='"',w=b+b,G=!1,E=null,j=!1;(function(){if(typeof h=="object"){if(typeof h.delimiter!="string"||u.BAD_DELIMITERS.filter(function(N){return h.delimiter.indexOf(N)!==-1}).length||(k=h.delimiter),(typeof h.quotes=="boolean"||typeof h.quotes=="function"||Array.isArray(h.quotes))&&(c=h.quotes),typeof h.skipEmptyLines!="boolean"&&typeof h.skipEmptyLines!="string"||(G=h.skipEmptyLines),typeof h.newline=="string"&&(D=h.newline),typeof h.quoteChar=="string"&&(b=h.quoteChar),typeof h.header=="boolean"&&(x=h.header),Array.isArray(h.columns)){if(h.columns.length===0)throw new Error("Option columns is empty");E=h.columns}h.escapeChar!==void 0&&(w=h.escapeChar+b),(typeof h.escapeFormulae=="boolean"||h.escapeFormulae instanceof RegExp)&&(j=h.escapeFormulae instanceof RegExp?h.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var F=new RegExp(O(b),"g");if(typeof d=="string"&&(d=JSON.parse(d)),Array.isArray(d)){if(!d.length||Array.isArray(d[0]))return J(null,d,G);if(typeof d[0]=="object")return J(E||Object.keys(d[0]),d,G)}else if(typeof d=="object")return typeof d.data=="string"&&(d.data=JSON.parse(d.data)),Array.isArray(d.data)&&(d.fields||(d.fields=d.meta&&d.meta.fields||E),d.fields||(d.fields=Array.isArray(d.data[0])?d.fields:typeof d.data[0]=="object"?Object.keys(d.data[0]):[]),Array.isArray(d.data[0])||typeof d.data[0]=="object"||(d.data=[d.data])),J(d.fields||[],d.data||[],G);throw new Error("Unable to serialize unrecognized input");function J(N,Q,ee){var I="";typeof N=="string"&&(N=JSON.parse(N)),typeof Q=="string"&&(Q=JSON.parse(Q));var ne=Array.isArray(N)&&0<N.length,ae=!Array.isArray(Q[0]);if(ne&&x){for(var R=0;R<N.length;R++)0<R&&(I+=k),I+=ie(N[R],R);0<Q.length&&(I+=D)}for(var C=0;C<Q.length;C++){var y=ne?N.length:Q[C].length,L=!1,Z=ne?Object.keys(Q[C]).length===0:Q[C].length===0;if(ee&&!ne&&(L=ee==="greedy"?Q[C].join("").trim()==="":Q[C].length===1&&Q[C][0].length===0),ee==="greedy"&&ne){for(var z=[],U=0;U<y;U++){var q=ae?N[U]:U;z.push(Q[C][q])}L=z.join("").trim()===""}if(!L){for(var P=0;P<y;P++){0<P&&!Z&&(I+=k);var Ze=ne&&ae?N[P]:P;I+=ie(Q[C][Ze],P)}C<Q.length-1&&(!ee||0<y&&!Z)&&(I+=D)}}return I}function ie(N,Q){if(N==null)return"";if(N.constructor===Date)return JSON.stringify(N).slice(1,25);var ee=!1;j&&typeof N=="string"&&j.test(N)&&(N="'"+N,ee=!0);var I=N.toString().replace(F,w);return(ee=ee||c===!0||typeof c=="function"&&c(N,Q)||Array.isArray(c)&&c[Q]||function(ne,ae){for(var R=0;R<ae.length;R++)if(-1<ne.indexOf(ae[R]))return!0;return!1}(I,u.BAD_DELIMITERS)||-1<I.indexOf(k)||I.charAt(0)===" "||I.charAt(I.length-1)===" ")?b+I+b:I}},u.RECORD_SEP=String.fromCharCode(30),u.UNIT_SEP=String.fromCharCode(31),u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!i&&!!r.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=B,u.ParserHandle=$,u.NetworkStreamer=_,u.FileStreamer=p,u.StringStreamer=m,u.ReadableStreamStreamer=A,r.jQuery){var f=r.jQuery;f.fn.parse=function(d){var h=d.config||{},c=[];return this.each(function(D){if(!(f(this).prop("tagName").toUpperCase()==="INPUT"&&f(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var b=0;b<this.files.length;b++)c.push({file:this.files[b],inputElem:this,instanceConfig:f.extend({},h)})}),x(),this;function x(){if(c.length!==0){var D,b,w,G,E=c[0];if(v(d.before)){var j=d.before(E.file,E.inputElem);if(typeof j=="object"){if(j.action==="abort")return D="AbortError",b=E.file,w=E.inputElem,G=j.reason,void(v(d.error)&&d.error({name:D},b,w,G));if(j.action==="skip")return void k();typeof j.config=="object"&&(E.instanceConfig=f.extend(E.instanceConfig,j.config))}else if(j==="skip")return void k()}var F=E.instanceConfig.complete;E.instanceConfig.complete=function(J){v(F)&&F(J,E.file,E.inputElem),k()},u.parse(E.file,E.instanceConfig)}else v(d.complete)&&d.complete()}function k(){c.splice(0,1),x()}}}function g(d){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],comments:[],meta:{}},function(h){var c=X(h);c.chunkSize=parseInt(c.chunkSize),h.step||h.chunk||(c.chunkSize=null),this._handle=new $(c),(this._handle.streamer=this)._config=c}.call(this,d),this.parseChunk=function(h,c){if(this.isFirstChunk&&v(this._config.beforeFirstChunk)){var x=this._config.beforeFirstChunk(h);x!==void 0&&(h=x)}this.isFirstChunk=!1,this._halted=!1;var k=this._partialLine+h;this._partialLine="";var D=this._handle.parse(k,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var b=D.meta.cursor;this._finished||(this._partialLine=k.substring(b-this._baseIndex),this._baseIndex=b),D&&D.data&&(this._rowCount+=D.data.length);var w=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(a)r.postMessage({results:D,workerId:u.WORKER_ID,finished:w});else if(v(this._config.chunk)&&!c){if(this._config.chunk(D,this._handle),l=[],this._handle.paused()||this._handle.aborted())return void(this._halted=!0);D=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(D.data),this._completeResults.errors=this._completeResults.errors.concat(D.errors),this._completeResults.comments=this._completeResults.comments.concat(D.comments),this._completeResults.meta=D.meta),this._completed||!w||!v(this._config.complete)||D&&D.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),w||D&&D.meta.paused||this._nextChunk(),D}this._halted=!0},this._sendError=function(h){v(this._config.error)?this._config.error(h):a&&this._config.error&&r.postMessage({workerId:u.WORKER_ID,error:h,finished:!1})}}function _(d){var h;(d=d||{}).chunkSize||(d.chunkSize=u.RemoteChunkSize),g.call(this,d),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(c){this._input=c,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(h=new XMLHttpRequest,this._config.withCredentials&&(h.withCredentials=this._config.withCredentials),i||(h.onload=T(this._chunkLoaded,this),h.onerror=T(this._chunkError,this)),h.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var c=this._config.downloadRequestHeaders;for(var x in c)h.setRequestHeader(x,c[x])}if(this._config.chunkSize){var k=this._start+this._config.chunkSize-1;h.setRequestHeader("Range","bytes="+this._start+"-"+k)}try{h.send(this._config.downloadRequestBody)}catch(D){this._chunkError(D.message)}i&&h.status===0&&this._chunkError()}},this._chunkLoaded=function(){var c;h.readyState===4&&(h.status<200||400<=h.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:h.responseText.length,this._finished=!this._config.chunkSize||this._start>=((c=h.getResponseHeader("Content-Range"))!==null?parseInt(c.substring(c.lastIndexOf("/")+1)):-1),this.parseChunk(h.responseText)))},this._chunkError=function(c){var x=h.statusText||c;this._sendError(new Error(x))}}function p(d){var h,c;(d=d||{}).chunkSize||(d.chunkSize=u.LocalChunkSize),g.call(this,d);var x=typeof FileReader!="undefined";this.stream=function(k){this._input=k,c=k.slice||k.webkitSlice||k.mozSlice,x?((h=new FileReader).onload=T(this._chunkLoaded,this),h.onerror=T(this._chunkError,this)):h=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var k=this._input;if(this._config.chunkSize){var D=Math.min(this._start+this._config.chunkSize,this._input.size);k=c.call(k,this._start,D)}var b=h.readAsText(k,this._config.encoding);x||this._chunkLoaded({target:{result:b}})},this._chunkLoaded=function(k){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(k.target.result)},this._chunkError=function(){this._sendError(h.error)}}function m(d){var h;g.call(this,d=d||{}),this.stream=function(c){return h=c,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var c,x=this._config.chunkSize;return h=x?(c=h.substring(0,x),h.substring(x)):(c=h,""),this._finished=!h,this.parseChunk(c)}}}function A(d){g.call(this,d=d||{});var h=[],c=!0,x=!1;this.pause=function(){g.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){g.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(k){this._input=k,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){x&&h.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),h.length?this.parseChunk(h.shift()):c=!0},this._streamData=T(function(k){try{h.push(typeof k=="string"?k:k.toString(this._config.encoding)),c&&(c=!1,this._checkIsFinished(),this.parseChunk(h.shift()))}catch(D){this._streamError(D)}},this),this._streamError=T(function(k){this._streamCleanUp(),this._sendError(k)},this),this._streamEnd=T(function(){this._streamCleanUp(),x=!0,this._streamData("")},this),this._streamCleanUp=T(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function $(d){var h,c,x,k=Math.pow(2,53),D=-k,b=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,w=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,G=this,E=0,j=0,F=!1,J=!1,ie=[],N={data:[],errors:[],comments:[],meta:{}};if(v(d.step)){var Q=d.step;d.step=function(C){if(N=C,ne())I();else{if(I(),N.data.length===0)return;E+=C.data.length,d.preview&&E>d.preview?c.abort():(N.data=N.data[0],Q(N,G))}}}function ee(C){return d.skipEmptyLines==="greedy"?C.join("").trim()==="":C.length===1&&C[0].length===0}function I(){return N&&x&&(R("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),x=!1),d.skipEmptyLines&&(N.data=N.data.filter(function(C){return!ee(C)})),ne()&&function(){if(!N)return;function C(L,Z){v(d.transformHeader)&&(L=d.transformHeader(L,Z)),ie.push(L)}if(Array.isArray(N.data[0])){for(var y=0;ne()&&y<N.data.length;y++)N.data[y].forEach(C);N.data.splice(0,1)}else N.data.forEach(C)}(),function(){if(!N||!d.header&&!d.dynamicTyping&&!d.transform)return N;function C(L,Z){var z,U=d.header?{}:[];for(z=0;z<L.length;z++){var q=z,P=L[z];d.header&&(q=z>=ie.length?"__parsed_extra":ie[z]),d.transform&&(P=d.transform(P,q)),P=ae(q,P),q==="__parsed_extra"?(U[q]=U[q]||[],U[q].push(P)):U[q]=P}return d.header&&(z>ie.length?R("FieldMismatch","TooManyFields","Too many fields: expected "+ie.length+" fields but parsed "+z,j+Z):z<ie.length&&R("FieldMismatch","TooFewFields","Too few fields: expected "+ie.length+" fields but parsed "+z,j+Z)),U}var y=1;return!N.data.length||Array.isArray(N.data[0])?(N.data=N.data.map(C),y=N.data.length):N.data=C(N.data,0),d.header&&N.meta&&(N.meta.fields=ie),j+=y,N}()}function ne(){return d.header&&ie.length===0}function ae(C,y){return L=C,d.dynamicTypingFunction&&d.dynamicTyping[L]===void 0&&(d.dynamicTyping[L]=d.dynamicTypingFunction(L)),(d.dynamicTyping[L]||d.dynamicTyping)===!0?y==="true"||y==="TRUE"||y!=="false"&&y!=="FALSE"&&(y.startsWith('"')?y.slice(1):function(Z){if(b.test(Z)){var z=parseFloat(Z);if(D<z&&z<k)return!0}return!1}(y)?parseFloat(y):w.test(y)?new Date(y):y===""?null:y):y;var L}function R(C,y,L,Z){var z={type:C,code:y,message:L};Z!==void 0&&(z.row=Z),N.errors.push(z)}this.parse=function(C,y,L){var Z=d.quoteChar||'"';if(d.newline||(d.newline=function(q,P){q=q.substring(0,1048576);var Ze=new RegExp(O(P)+"([^]*?)"+O(P),"gm"),Ae=(q=q.replace(Ze,"")).split("\r"),ye=q.split(`
`),Ge=1<ye.length&&ye[0].length<Ae[0].length;if(Ae.length===1||Ge)return`
`;for(var Oe=0,ve=0;ve<Ae.length;ve++)Ae[ve][0]===`
`&&Oe++;return Oe>=Ae.length/2?`\r
`:"\r"}(C,Z)),x=!1,d.delimiter)v(d.delimiter)&&(d.delimiter=d.delimiter(C),N.meta.delimiter=d.delimiter);else{var z=function(q,P,Ze,Ae,ye){var Ge,Oe,ve,le;ye=ye||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var Ke=0;Ke<ye.length;Ke++){var ue=ye[Ke],je=0,De=0,ba=0;ve=void 0;for(var zt=new B({comments:Ae,delimiter:ue,newline:P,preview:10}).parse(q),an=0;an<zt.data.length;an++)if(Ze&&ee(zt.data[an]))ba++;else{var Mt=zt.data[an].length;De+=Mt,ve!==void 0?0<Mt&&(je+=Math.abs(Mt-ve),ve=Mt):ve=Mt}0<zt.data.length&&(De/=zt.data.length-ba),(Oe===void 0||je<=Oe)&&(le===void 0||le<De)&&1.99<De&&(Oe=je,Ge=ue,le=De)}return{successful:!!(d.delimiter=Ge),bestDelimiter:Ge}}(C,d.newline,d.skipEmptyLines,d.comments,d.delimitersToGuess);z.successful?d.delimiter=z.bestDelimiter:(x=!0,d.delimiter=u.DefaultDelimiter),N.meta.delimiter=d.delimiter}var U=X(d);return d.preview&&d.header&&U.preview++,h=C,c=new B(U),N=c.parse(h,y,L),I(),F?{meta:{paused:!0}}:N||{meta:{paused:!1}}},this.paused=function(){return F},this.pause=function(){F=!0,c.abort(),h=v(d.chunk)?"":h.substring(c.getCharIndex())},this.resume=function(){G.streamer._halted?(F=!1,G.streamer.parseChunk(h,!0)):setTimeout(G.resume,3)},this.aborted=function(){return J},this.abort=function(){J=!0,c.abort(),N.meta.aborted=!0,v(d.complete)&&d.complete(N),h=""}}function O(d){return d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function B(d){var h,c=(d=d||{}).delimiter,x=d.newline,k=d.comments,D=d.step,b=d.preview,w=d.fastMode,G=h=d.quoteChar===void 0||d.quoteChar===null?'"':d.quoteChar;if(d.escapeChar!==void 0&&(G=d.escapeChar),(typeof c!="string"||-1<u.BAD_DELIMITERS.indexOf(c))&&(c=","),k===c)throw new Error("Comment character same as delimiter");k===!0?k="#":(typeof k!="string"||-1<u.BAD_DELIMITERS.indexOf(k))&&(k=!1),x!==`
`&&x!=="\r"&&x!==`\r
`&&(x=`
`);var E=0,j=!1;this.parse=function(F,J,ie){if(typeof F!="string")throw new Error("Input must be a string");var N=F.length,Q=c.length,ee=x.length,I=k.length,ne=v(D),ae=[],R=[],C=[],y=E=0;if(!F)return le();if(w||w!==!1&&F.indexOf(h)===-1){for(var L=F.split(x),Z=0;Z<L.length;Z++){if(C=L[Z],E+=C.length,Z!==L.length-1)E+=x.length;else if(ie)return le();if(k&&C.substring(0,I)===k)l.push(C);else{if(ne){if(ae=[],ye(C.split(c)),Ke(),j)return le()}else ye(C.split(c));if(b&&b<=Z)return ae=ae.slice(0,b),le(!0)}}return le()}for(var z=F.indexOf(c,E),U=F.indexOf(x,E),q=new RegExp(O(G)+O(h),"g"),P=F.indexOf(h,E);;)if(F[E]!==h)if(k&&C.length===0&&F.substring(E,E+I)===k){if(U===-1)return le();E=U+ee,U=F.indexOf(x,E),z=F.indexOf(c,E)}else if(z!==-1&&(z<U||U===-1))C.push(F.substring(E,z)),E=z+Q,z=F.indexOf(c,E);else{if(U===-1)break;if(C.push(F.substring(E,U)),ve(U+ee),ne&&(Ke(),j))return le();if(b&&ae.length>=b)return le(!0)}else for(P=E,E++;;){if((P=F.indexOf(h,P+1))===-1)return ie||R.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ae.length,index:E}),Oe();if(P===N-1)return Oe(F.substring(E,P).replace(q,h));if(h!==G||F[P+1]!==G){if(h===G||P===0||F[P-1]!==G){z!==-1&&z<P+1&&(z=F.indexOf(c,P+1)),U!==-1&&U<P+1&&(U=F.indexOf(x,P+1));var Ze=Ge(U===-1?z:Math.min(z,U));if(F.substr(P+1+Ze,Q)===c){C.push(F.substring(E-1,P).replace(q,h)),F[E=P+1+Ze+Q]!==h&&(P=F.indexOf(h,E)),z=F.indexOf(c,E),U=F.indexOf(x,E);break}var Ae=Ge(U);if(F.substring(P+1+Ae,P+1+Ae+ee)===x){if(C.push(F.substring(E-1,P).replace(q,h)),ve(P+1+Ae+ee),z=F.indexOf(c,E),P=F.indexOf(h,E),ne&&(Ke(),j))return le();if(b&&ae.length>=b)return le(!0);break}R.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ae.length,index:E}),P++}}else P++}return Oe();function ye(ue){ae.push(ue),y=E}function Ge(ue){var je=0;if(ue!==-1){var De=F.substring(P+1,ue);De&&De.trim()===""&&(je=De.length)}return je}function Oe(ue){return ie||(ue===void 0&&(ue=F.substring(E)),C.push(ue),E=N,ye(C),ne&&Ke()),le()}function ve(ue){E=ue,ye(C),C=[],U=F.indexOf(x,E)}function le(ue){var je=JSON.parse(JSON.stringify(l));return{data:ae,errors:R,comments:je,meta:{delimiter:c,linebreak:x,aborted:j,truncated:!!ue,cursor:y+(J||0)}}}function Ke(){D(le()),ae=[],R=[]}},this.abort=function(){j=!0},this.getCharIndex=function(){return E}}function H(d){var h=d.data,c=s[h.workerId],x=!1;if(h.error)c.userError(h.error,h.file);else if(h.results&&h.results.data){var k={abort:function(){x=!0,S(h.workerId,{data:[],comments:[],errors:[],meta:{aborted:!0}})},pause:M,resume:M};if(v(c.userStep)){for(var D=0;D<h.results.data.length&&(c.userStep({data:h.results.data[D],errors:h.results.errors,comments:h.results.comments,meta:h.results.meta},k),!x);D++);delete h.results}else v(c.userChunk)&&(c.userChunk(h.results,k,h.file),delete h.results)}h.finished&&!x&&S(h.workerId,h.results)}function S(d,h){var c=s[d];v(c.userComplete)&&c.userComplete(h),c.terminate(),delete s[d]}function M(){throw new Error("Not implemented.")}function X(d){if(typeof d!="object"||d===null)return d;var h=Array.isArray(d)?[]:{};for(var c in d)h[c]=X(d[c]);return h}function T(d,h){return function(){d.apply(h,arguments)}}function v(d){return typeof d=="function"}return a&&(r.onmessage=function(d){var h=d.data;if(u.WORKER_ID===void 0&&h&&(u.WORKER_ID=h.workerId),typeof h.input=="string")r.postMessage({workerId:u.WORKER_ID,results:u.parse(h.input,h.config),finished:!0});else if(r.File&&h.input instanceof File||h.input instanceof Object){var c=u.parse(h.input,h.config);c&&r.postMessage({workerId:u.WORKER_ID,results:c,finished:!0})}}),(_.prototype=Object.create(g.prototype)).constructor=_,(p.prototype=Object.create(g.prototype)).constructor=p,(m.prototype=Object.create(m.prototype)).constructor=m,(A.prototype=Object.create(g.prototype)).constructor=A,u})})(Oi);var pl=Oi.exports,gl={},bl=Object.freeze({__proto__:null,default:gl}),$i=_l(bl),Vt={};(function(e){e.isInteger=n=>typeof n=="number"?Number.isInteger(n):typeof n=="string"&&n.trim()!==""?Number.isInteger(Number(n)):!1,e.find=(n,t)=>n.nodes.find(r=>r.type===t),e.exceedsLimit=(n,t,r=1,i)=>i===!1||!e.isInteger(n)||!e.isInteger(t)?!1:(Number(t)-Number(n))/Number(r)>=i,e.escapeNode=(n,t=0,r)=>{let i=n.nodes[t];!i||(r&&i.type===r||i.type==="open"||i.type==="close")&&i.escaped!==!0&&(i.value="\\"+i.value,i.escaped=!0)},e.encloseBrace=n=>n.type!=="brace"?!1:n.commas>>0+n.ranges>>0===0?(n.invalid=!0,!0):!1,e.isInvalidBrace=n=>n.type!=="brace"?!1:n.invalid===!0||n.dollar?!0:n.commas>>0+n.ranges>>0===0||n.open!==!0||n.close!==!0?(n.invalid=!0,!0):!1,e.isOpenOrClose=n=>n.type==="open"||n.type==="close"?!0:n.open===!0||n.close===!0,e.reduce=n=>n.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]),e.flatten=(...n)=>{const t=[],r=i=>{for(let a=0;a<i.length;a++){let s=i[a];Array.isArray(s)?r(s):s!==void 0&&t.push(s)}return t};return r(n),t}})(Vt);const Li=Vt;var Dn=(e,n={})=>{let t=(r,i={})=>{let a=n.escapeInvalid&&Li.isInvalidBrace(i),s=r.invalid===!0&&n.escapeInvalid===!0,o="";if(r.value)return(a||s)&&Li.isOpenOrClose(r)?"\\"+r.value:r.value;if(r.value)return r.value;if(r.nodes)for(let u of r.nodes)o+=t(u);return o};return t(e)};/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */var wl=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1};/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const Hi=wl,tt=(e,n,t)=>{if(Hi(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(n===void 0||e===n)return String(e);if(Hi(n)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let r={relaxZeros:!0,...t};typeof r.strictZeros=="boolean"&&(r.relaxZeros=r.strictZeros===!1);let i=String(r.relaxZeros),a=String(r.shorthand),s=String(r.capture),o=String(r.wrap),u=e+":"+n+"="+i+a+s+o;if(tt.cache.hasOwnProperty(u))return tt.cache[u].result;let l=Math.min(e,n),f=Math.max(e,n);if(Math.abs(l-f)===1){let A=e+"|"+n;return r.capture?`(${A})`:r.wrap===!1?A:`(?:${A})`}let g=Mi(e)||Mi(n),_={min:e,max:n,a:l,b:f},p=[],m=[];if(g&&(_.isPadded=g,_.maxLen=String(_.max).length),l<0){let A=f<0?Math.abs(f):1;m=Ni(A,Math.abs(l),_,r),l=_.a=0}return f>=0&&(p=Ni(l,f,_,r)),_.negatives=m,_.positives=p,_.result=ml(m,p),r.capture===!0?_.result=`(${_.result})`:r.wrap!==!1&&p.length+m.length>1&&(_.result=`(?:${_.result})`),tt.cache[u]=_,_.result};function ml(e,n,t){let r=Fn(e,n,"-",!1)||[],i=Fn(n,e,"",!1)||[],a=Fn(e,n,"-?",!0)||[];return r.concat(a).concat(i).join("|")}function yl(e,n){let t=1,r=1,i=Di(e,t),a=new Set([n]);for(;e<=i&&i<=n;)a.add(i),t+=1,i=Di(e,t);for(i=Fi(n+1,r)-1;e<i&&i<=n;)a.add(i),r+=1,i=Fi(n+1,r)-1;return a=[...a],a.sort(El),a}function vl(e,n,t){if(e===n)return{pattern:e,count:[],digits:0};let r=Al(e,n),i=r.length,a="",s=0;for(let o=0;o<i;o++){let[u,l]=r[o];u===l?a+=u:u!=="0"||l!=="9"?a+=xl(u,l):s++}return s&&(a+=t.shorthand===!0?"\\d":"[0-9]"),{pattern:a,count:[s],digits:i}}function Ni(e,n,t,r){let i=yl(e,n),a=[],s=e,o;for(let u=0;u<i.length;u++){let l=i[u],f=vl(String(s),String(l),r),g="";if(!t.isPadded&&o&&o.pattern===f.pattern){o.count.length>1&&o.count.pop(),o.count.push(f.count[0]),o.string=o.pattern+zi(o.count),s=l+1;continue}t.isPadded&&(g=Rl(l,t,r)),f.string=g+f.pattern+zi(f.count),a.push(f),s=l+1,o=f}return a}function Fn(e,n,t,r,i){let a=[];for(let s of e){let{string:o}=s;!r&&!Ii(n,"string",o)&&a.push(t+o),r&&Ii(n,"string",o)&&a.push(t+o)}return a}function Al(e,n){let t=[];for(let r=0;r<e.length;r++)t.push([e[r],n[r]]);return t}function El(e,n){return e>n?1:n>e?-1:0}function Ii(e,n,t){return e.some(r=>r[n]===t)}function Di(e,n){return Number(String(e).slice(0,-n)+"9".repeat(n))}function Fi(e,n){return e-e%Math.pow(10,n)}function zi(e){let[n=0,t=""]=e;return t||n>1?`{${n+(t?","+t:"")}}`:""}function xl(e,n,t){return`[${e}${n-e===1?"":"-"}${n}]`}function Mi(e){return/^-?(0+)\d/.test(e)}function Rl(e,n,t){if(!n.isPadded)return e;let r=Math.abs(n.maxLen-String(e).length),i=t.relaxZeros!==!1;switch(r){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${r}}`:`0{${r}}`}}tt.cache={},tt.clearCache=()=>tt.cache={};var Sl=tt;/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const kl=$i,Ui=Sl,Bi=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),Cl=e=>n=>e===!0?Number(n):String(n),zn=e=>typeof e=="number"||typeof e=="string"&&e!=="",Lt=e=>Number.isInteger(+e),Mn=e=>{let n=`${e}`,t=-1;if(n[0]==="-"&&(n=n.slice(1)),n==="0")return!1;for(;n[++t]==="0";);return t>0},Tl=(e,n,t)=>typeof e=="string"||typeof n=="string"?!0:t.stringify===!0,Ol=(e,n,t)=>{if(n>0){let r=e[0]==="-"?"-":"";r&&(e=e.slice(1)),e=r+e.padStart(r?n-1:n,"0")}return t===!1?String(e):e},Pi=(e,n)=>{let t=e[0]==="-"?"-":"";for(t&&(e=e.slice(1),n--);e.length<n;)e="0"+e;return t?"-"+e:e},$l=(e,n)=>{e.negatives.sort((s,o)=>s<o?-1:s>o?1:0),e.positives.sort((s,o)=>s<o?-1:s>o?1:0);let t=n.capture?"":"?:",r="",i="",a;return e.positives.length&&(r=e.positives.join("|")),e.negatives.length&&(i=`-(${t}${e.negatives.join("|")})`),r&&i?a=`${r}|${i}`:a=r||i,n.wrap?`(${t}${a})`:a},Zi=(e,n,t,r)=>{if(t)return Ui(e,n,{wrap:!1,...r});let i=String.fromCharCode(e);if(e===n)return i;let a=String.fromCharCode(n);return`[${i}-${a}]`},Gi=(e,n,t)=>{if(Array.isArray(e)){let r=t.wrap===!0,i=t.capture?"":"?:";return r?`(${i}${e.join("|")})`:e.join("|")}return Ui(e,n,t)},Ki=(...e)=>new RangeError("Invalid range arguments: "+kl.inspect(...e)),ji=(e,n,t)=>{if(t.strictRanges===!0)throw Ki([e,n]);return[]},Ll=(e,n)=>{if(n.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},Hl=(e,n,t=1,r={})=>{let i=Number(e),a=Number(n);if(!Number.isInteger(i)||!Number.isInteger(a)){if(r.strictRanges===!0)throw Ki([e,n]);return[]}i===0&&(i=0),a===0&&(a=0);let s=i>a,o=String(e),u=String(n),l=String(t);t=Math.max(Math.abs(t),1);let f=Mn(o)||Mn(u)||Mn(l),g=f?Math.max(o.length,u.length,l.length):0,_=f===!1&&Tl(e,n,r)===!1,p=r.transform||Cl(_);if(r.toRegex&&t===1)return Zi(Pi(e,g),Pi(n,g),!0,r);let m={negatives:[],positives:[]},A=B=>m[B<0?"negatives":"positives"].push(Math.abs(B)),$=[],O=0;for(;s?i>=a:i<=a;)r.toRegex===!0&&t>1?A(i):$.push(Ol(p(i,O),g,_)),i=s?i-t:i+t,O++;return r.toRegex===!0?t>1?$l(m,r):Gi($,null,{wrap:!1,...r}):$},Nl=(e,n,t=1,r={})=>{if(!Lt(e)&&e.length>1||!Lt(n)&&n.length>1)return ji(e,n,r);let i=r.transform||(_=>String.fromCharCode(_)),a=`${e}`.charCodeAt(0),s=`${n}`.charCodeAt(0),o=a>s,u=Math.min(a,s),l=Math.max(a,s);if(r.toRegex&&t===1)return Zi(u,l,!1,r);let f=[],g=0;for(;o?a>=s:a<=s;)f.push(i(a,g)),a=o?a-t:a+t,g++;return r.toRegex===!0?Gi(f,null,{wrap:!1,options:r}):f},Jt=(e,n,t,r={})=>{if(n==null&&zn(e))return[e];if(!zn(e)||!zn(n))return ji(e,n,r);if(typeof t=="function")return Jt(e,n,1,{transform:t});if(Bi(t))return Jt(e,n,0,t);let i={...r};return i.capture===!0&&(i.wrap=!0),t=t||i.step||1,Lt(t)?Lt(e)&&Lt(n)?Hl(e,n,t,i):Nl(e,n,Math.max(Math.abs(t),1),i):t!=null&&!Bi(t)?Ll(t,i):Jt(e,n,1,t)};var Wi=Jt;const Il=Wi,Xi=Vt;var Dl=(e,n={})=>{let t=(r,i={})=>{let a=Xi.isInvalidBrace(i),s=r.invalid===!0&&n.escapeInvalid===!0,o=a===!0||s===!0,u=n.escapeInvalid===!0?"\\":"",l="";if(r.isOpen===!0||r.isClose===!0)return u+r.value;if(r.type==="open")return o?u+r.value:"(";if(r.type==="close")return o?u+r.value:")";if(r.type==="comma")return r.prev.type==="comma"?"":o?r.value:"|";if(r.value)return r.value;if(r.nodes&&r.ranges>0){let f=Xi.reduce(r.nodes),g=Il(...f,{...n,wrap:!1,toRegex:!0});if(g.length!==0)return f.length>1&&g.length>1?`(${g})`:g}if(r.nodes)for(let f of r.nodes)l+=t(f,r);return l};return t(e)};const Fl=Wi,Qi=Dn,ct=Vt,nt=(e="",n="",t=!1)=>{let r=[];if(e=[].concat(e),n=[].concat(n),!n.length)return e;if(!e.length)return t?ct.flatten(n).map(i=>`{${i}}`):n;for(let i of e)if(Array.isArray(i))for(let a of i)r.push(nt(a,n,t));else for(let a of n)t===!0&&typeof a=="string"&&(a=`{${a}}`),r.push(Array.isArray(a)?nt(i,a,t):i+a);return ct.flatten(r)};var zl=(e,n={})=>{let t=n.rangeLimit===void 0?1e3:n.rangeLimit,r=(i,a={})=>{i.queue=[];let s=a,o=a.queue;for(;s.type!=="brace"&&s.type!=="root"&&s.parent;)s=s.parent,o=s.queue;if(i.invalid||i.dollar){o.push(nt(o.pop(),Qi(i,n)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){o.push(nt(o.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let g=ct.reduce(i.nodes);if(ct.exceedsLimit(...g,n.step,t))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let _=Fl(...g,n);_.length===0&&(_=Qi(i,n)),o.push(nt(o.pop(),_)),i.nodes=[];return}let u=ct.encloseBrace(i),l=i.queue,f=i;for(;f.type!=="brace"&&f.type!=="root"&&f.parent;)f=f.parent,l=f.queue;for(let g=0;g<i.nodes.length;g++){let _=i.nodes[g];if(_.type==="comma"&&i.type==="brace"){g===1&&l.push(""),l.push("");continue}if(_.type==="close"){o.push(nt(o.pop(),l,u));continue}if(_.value&&_.type!=="open"){l.push(nt(l.pop(),_.value));continue}_.nodes&&r(_,i)}return l};return ct.flatten(r(e))},Ml={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"};const Ul=Dn,{MAX_LENGTH:qi,CHAR_BACKSLASH:Un,CHAR_BACKTICK:Bl,CHAR_COMMA:Pl,CHAR_DOT:Zl,CHAR_LEFT_PARENTHESES:Gl,CHAR_RIGHT_PARENTHESES:Kl,CHAR_LEFT_CURLY_BRACE:jl,CHAR_RIGHT_CURLY_BRACE:Wl,CHAR_LEFT_SQUARE_BRACKET:Yi,CHAR_RIGHT_SQUARE_BRACKET:Vi,CHAR_DOUBLE_QUOTE:Xl,CHAR_SINGLE_QUOTE:Ql,CHAR_NO_BREAK_SPACE:ql,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Yl}=Ml;var Vl=(e,n={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let t=n||{},r=typeof t.maxLength=="number"?Math.min(qi,t.maxLength):qi;if(e.length>r)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${r})`);let i={type:"root",input:e,nodes:[]},a=[i],s=i,o=i,u=0,l=e.length,f=0,g=0,_;const p=()=>e[f++],m=A=>{if(A.type==="text"&&o.type==="dot"&&(o.type="text"),o&&o.type==="text"&&A.type==="text"){o.value+=A.value;return}return s.nodes.push(A),A.parent=s,A.prev=o,o=A,A};for(m({type:"bos"});f<l;)if(s=a[a.length-1],_=p(),!(_===Yl||_===ql)){if(_===Un){m({type:"text",value:(n.keepEscaping?_:"")+p()});continue}if(_===Vi){m({type:"text",value:"\\"+_});continue}if(_===Yi){u++;let A;for(;f<l&&(A=p());){if(_+=A,A===Yi){u++;continue}if(A===Un){_+=p();continue}if(A===Vi&&(u--,u===0))break}m({type:"text",value:_});continue}if(_===Gl){s=m({type:"paren",nodes:[]}),a.push(s),m({type:"text",value:_});continue}if(_===Kl){if(s.type!=="paren"){m({type:"text",value:_});continue}s=a.pop(),m({type:"text",value:_}),s=a[a.length-1];continue}if(_===Xl||_===Ql||_===Bl){let A=_,$;for(n.keepQuotes!==!0&&(_="");f<l&&($=p());){if($===Un){_+=$+p();continue}if($===A){n.keepQuotes===!0&&(_+=$);break}_+=$}m({type:"text",value:_});continue}if(_===jl){g++;let A=o.value&&o.value.slice(-1)==="$"||s.dollar===!0;s=m({type:"brace",open:!0,close:!1,dollar:A,depth:g,commas:0,ranges:0,nodes:[]}),a.push(s),m({type:"open",value:_});continue}if(_===Wl){if(s.type!=="brace"){m({type:"text",value:_});continue}let A="close";s=a.pop(),s.close=!0,m({type:A,value:_}),g--,s=a[a.length-1];continue}if(_===Pl&&g>0){if(s.ranges>0){s.ranges=0;let A=s.nodes.shift();s.nodes=[A,{type:"text",value:Ul(s)}]}m({type:"comma",value:_}),s.commas++;continue}if(_===Zl&&g>0&&s.commas===0){let A=s.nodes;if(g===0||A.length===0){m({type:"text",value:_});continue}if(o.type==="dot"){if(s.range=[],o.value+=_,o.type="range",s.nodes.length!==3&&s.nodes.length!==5){s.invalid=!0,s.ranges=0,o.type="text";continue}s.ranges++,s.args=[];continue}if(o.type==="range"){A.pop();let $=A[A.length-1];$.value+=o.value+_,o=$,s.ranges--;continue}m({type:"dot",value:_});continue}m({type:"text",value:_})}do if(s=a.pop(),s.type!=="root"){s.nodes.forEach(O=>{O.nodes||(O.type==="open"&&(O.isOpen=!0),O.type==="close"&&(O.isClose=!0),O.nodes||(O.type="text"),O.invalid=!0)});let A=a[a.length-1],$=A.nodes.indexOf(s);A.nodes.splice($,1,...s.nodes)}while(a.length>0);return m({type:"eos"}),i};const Ji=Dn,Jl=Dl,ef=zl,tf=Vl,pe=(e,n={})=>{let t=[];if(Array.isArray(e))for(let r of e){let i=pe.create(r,n);Array.isArray(i)?t.push(...i):t.push(i)}else t=[].concat(pe.create(e,n));return n&&n.expand===!0&&n.nodupes===!0&&(t=[...new Set(t)]),t};pe.parse=(e,n={})=>tf(e,n),pe.stringify=(e,n={})=>Ji(typeof e=="string"?pe.parse(e,n):e,n),pe.compile=(e,n={})=>(typeof e=="string"&&(e=pe.parse(e,n)),Jl(e,n)),pe.expand=(e,n={})=>{typeof e=="string"&&(e=pe.parse(e,n));let t=ef(e,n);return n.noempty===!0&&(t=t.filter(Boolean)),n.nodupes===!0&&(t=[...new Set(t)]),t},pe.create=(e,n={})=>e===""||e.length<3?[e]:n.expand!==!0?pe.compile(e,n):pe.expand(e,n);var nf=pe;function ke(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function ea(e,n){for(var t="",r=0,i=-1,a=0,s,o=0;o<=e.length;++o){if(o<e.length)s=e.charCodeAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var u=t.lastIndexOf("/");if(u!==t.length-1){u===-1?(t="",r=0):(t=t.slice(0,u),r=t.length-1-t.lastIndexOf("/")),i=o,a=0;continue}}else if(t.length===2||t.length===1){t="",r=0,i=o,a=0;continue}}n&&(t.length>0?t+="/..":t="..",r=2)}else t.length>0?t+="/"+e.slice(i+1,o):t=e.slice(i+1,o),r=o-i-1;i=o,a=0}else s===46&&a!==-1?++a:a=-1}return t}function rf(e,n){var t=n.dir||n.root,r=n.base||(n.name||"")+(n.ext||"");return t?t===n.root?t+r:t+e+r:r}var ht={resolve:function(){for(var n="",t=!1,r,i=arguments.length-1;i>=-1&&!t;i--){var a;i>=0?a=arguments[i]:(r===void 0&&(r=process.cwd()),a=r),ke(a),a.length!==0&&(n=a+"/"+n,t=a.charCodeAt(0)===47)}return n=ea(n,!t),t?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(n){if(ke(n),n.length===0)return".";var t=n.charCodeAt(0)===47,r=n.charCodeAt(n.length-1)===47;return n=ea(n,!t),n.length===0&&!t&&(n="."),n.length>0&&r&&(n+="/"),t?"/"+n:n},isAbsolute:function(n){return ke(n),n.length>0&&n.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var n,t=0;t<arguments.length;++t){var r=arguments[t];ke(r),r.length>0&&(n===void 0?n=r:n+="/"+r)}return n===void 0?".":ht.normalize(n)},relative:function(n,t){if(ke(n),ke(t),n===t||(n=ht.resolve(n),t=ht.resolve(t),n===t))return"";for(var r=1;r<n.length&&n.charCodeAt(r)===47;++r);for(var i=n.length,a=i-r,s=1;s<t.length&&t.charCodeAt(s)===47;++s);for(var o=t.length,u=o-s,l=a<u?a:u,f=-1,g=0;g<=l;++g){if(g===l){if(u>l){if(t.charCodeAt(s+g)===47)return t.slice(s+g+1);if(g===0)return t.slice(s+g)}else a>l&&(n.charCodeAt(r+g)===47?f=g:g===0&&(f=0));break}var _=n.charCodeAt(r+g),p=t.charCodeAt(s+g);if(_!==p)break;_===47&&(f=g)}var m="";for(g=r+f+1;g<=i;++g)(g===i||n.charCodeAt(g)===47)&&(m.length===0?m+="..":m+="/..");return m.length>0?m+t.slice(s+f):(s+=f,t.charCodeAt(s)===47&&++s,t.slice(s))},_makeLong:function(n){return n},dirname:function(n){if(ke(n),n.length===0)return".";for(var t=n.charCodeAt(0),r=t===47,i=-1,a=!0,s=n.length-1;s>=1;--s)if(t=n.charCodeAt(s),t===47){if(!a){i=s;break}}else a=!1;return i===-1?r?"/":".":r&&i===1?"//":n.slice(0,i)},basename:function(n,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ke(n);var r=0,i=-1,a=!0,s;if(t!==void 0&&t.length>0&&t.length<=n.length){if(t.length===n.length&&t===n)return"";var o=t.length-1,u=-1;for(s=n.length-1;s>=0;--s){var l=n.charCodeAt(s);if(l===47){if(!a){r=s+1;break}}else u===-1&&(a=!1,u=s+1),o>=0&&(l===t.charCodeAt(o)?--o===-1&&(i=s):(o=-1,i=u))}return r===i?i=u:i===-1&&(i=n.length),n.slice(r,i)}else{for(s=n.length-1;s>=0;--s)if(n.charCodeAt(s)===47){if(!a){r=s+1;break}}else i===-1&&(a=!1,i=s+1);return i===-1?"":n.slice(r,i)}},extname:function(n){ke(n);for(var t=-1,r=0,i=-1,a=!0,s=0,o=n.length-1;o>=0;--o){var u=n.charCodeAt(o);if(u===47){if(!a){r=o+1;break}continue}i===-1&&(a=!1,i=o+1),u===46?t===-1?t=o:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||i===-1||s===0||s===1&&t===i-1&&t===r+1?"":n.slice(t,i)},format:function(n){if(n===null||typeof n!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof n);return rf("/",n)},parse:function(n){ke(n);var t={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return t;var r=n.charCodeAt(0),i=r===47,a;i?(t.root="/",a=1):a=0;for(var s=-1,o=0,u=-1,l=!0,f=n.length-1,g=0;f>=a;--f){if(r=n.charCodeAt(f),r===47){if(!l){o=f+1;break}continue}u===-1&&(l=!1,u=f+1),r===46?s===-1?s=f:g!==1&&(g=1):s!==-1&&(g=-1)}return s===-1||u===-1||g===0||g===1&&s===u-1&&s===o+1?u!==-1&&(o===0&&i?t.base=t.name=n.slice(1,u):t.base=t.name=n.slice(o,u)):(o===0&&i?(t.name=n.slice(1,s),t.base=n.slice(1,u)):(t.name=n.slice(o,s),t.base=n.slice(o,u)),t.ext=n.slice(s,u)),o>0?t.dir=n.slice(0,o-1):i&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};ht.posix=ht;var Bn=ht,Ht={};const af=Bn,Ce="\\\\/",ta=`[^${Ce}]`,Ie="\\.",sf="\\+",of="\\?",en="\\/",lf="(?=.)",na="[^/]",Pn=`(?:${en}|$)`,ra=`(?:^|${en})`,Zn=`${Ie}{1,2}${Pn}`,ff=`(?!${Ie})`,uf=`(?!${ra}${Zn})`,cf=`(?!${Ie}{0,1}${Pn})`,hf=`(?!${Zn})`,df=`[^.${en}]`,_f=`${na}*?`,ia={DOT_LITERAL:Ie,PLUS_LITERAL:sf,QMARK_LITERAL:of,SLASH_LITERAL:en,ONE_CHAR:lf,QMARK:na,END_ANCHOR:Pn,DOTS_SLASH:Zn,NO_DOT:ff,NO_DOTS:uf,NO_DOT_SLASH:cf,NO_DOTS_SLASH:hf,QMARK_NO_DOT:df,STAR:_f,START_ANCHOR:ra},pf={...ia,SLASH_LITERAL:`[${Ce}]`,QMARK:ta,STAR:`${ta}*?`,DOTS_SLASH:`${Ie}{1,2}(?:[${Ce}]|$)`,NO_DOT:`(?!${Ie})`,NO_DOTS:`(?!(?:^|[${Ce}])${Ie}{1,2}(?:[${Ce}]|$))`,NO_DOT_SLASH:`(?!${Ie}{0,1}(?:[${Ce}]|$))`,NO_DOTS_SLASH:`(?!${Ie}{1,2}(?:[${Ce}]|$))`,QMARK_NO_DOT:`[^.${Ce}]`,START_ANCHOR:`(?:^|[${Ce}])`,END_ANCHOR:`(?:[${Ce}]|$)`},gf={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};var tn={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:gf,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:af.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?pf:ia}};(function(e){const n=Bn,{REGEX_BACKSLASH:t,REGEX_REMOVE_BACKSLASH:r,REGEX_SPECIAL_CHARS:i,REGEX_SPECIAL_CHARS_GLOBAL:a}=tn;e.isObject=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),e.hasRegexChars=s=>i.test(s),e.isRegexChar=s=>s.length===1&&e.hasRegexChars(s),e.escapeRegex=s=>s.replace(a,"\\$1"),e.toPosixSlashes=s=>s.replace(t,"/"),e.removeBackslashes=s=>s.replace(r,o=>o==="\\"?"":o),e.supportsLookbehinds=()=>{const s=process.version.slice(1).split(".").map(Number);return s.length===3&&s[0]>=9||s[0]===8&&s[1]>=10},e.isWindows=s=>s&&typeof s.windows=="boolean"?s.windows:n.sep==="\\",e.escapeLast=(s,o,u)=>{const l=s.lastIndexOf(o,u);return l===-1?s:s[l-1]==="\\"?e.escapeLast(s,o,l-1):`${s.slice(0,l)}\\${s.slice(l)}`},e.removePrefix=(s,o={})=>{let u=s;return u.startsWith("./")&&(u=u.slice(2),o.prefix="./"),u},e.wrapOutput=(s,o={},u={})=>{const l=u.contains?"":"^",f=u.contains?"":"$";let g=`${l}(?:${s})${f}`;return o.negated===!0&&(g=`(?:^(?!${g}).*$)`),g}})(Ht);const aa=Ht,{CHAR_ASTERISK:Gn,CHAR_AT:bf,CHAR_BACKWARD_SLASH:Nt,CHAR_COMMA:wf,CHAR_DOT:Kn,CHAR_EXCLAMATION_MARK:jn,CHAR_FORWARD_SLASH:sa,CHAR_LEFT_CURLY_BRACE:Wn,CHAR_LEFT_PARENTHESES:Xn,CHAR_LEFT_SQUARE_BRACKET:mf,CHAR_PLUS:yf,CHAR_QUESTION_MARK:oa,CHAR_RIGHT_CURLY_BRACE:vf,CHAR_RIGHT_PARENTHESES:la,CHAR_RIGHT_SQUARE_BRACKET:Af}=tn,fa=e=>e===sa||e===Nt,ua=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)};var Ef=(e,n)=>{const t=n||{},r=e.length-1,i=t.parts===!0||t.scanToEnd===!0,a=[],s=[],o=[];let u=e,l=-1,f=0,g=0,_=!1,p=!1,m=!1,A=!1,$=!1,O=!1,B=!1,H=!1,S=!1,M=!1,X=0,T,v,d={value:"",depth:0,isGlob:!1};const h=()=>l>=r,c=()=>u.charCodeAt(l+1),x=()=>(T=v,u.charCodeAt(++l));for(;l<r;){v=x();let G;if(v===Nt){B=d.backslashes=!0,v=x(),v===Wn&&(O=!0);continue}if(O===!0||v===Wn){for(X++;h()!==!0&&(v=x());){if(v===Nt){B=d.backslashes=!0,x();continue}if(v===Wn){X++;continue}if(O!==!0&&v===Kn&&(v=x())===Kn){if(_=d.isBrace=!0,m=d.isGlob=!0,M=!0,i===!0)continue;break}if(O!==!0&&v===wf){if(_=d.isBrace=!0,m=d.isGlob=!0,M=!0,i===!0)continue;break}if(v===vf&&(X--,X===0)){O=!1,_=d.isBrace=!0,M=!0;break}}if(i===!0)continue;break}if(v===sa){if(a.push(l),s.push(d),d={value:"",depth:0,isGlob:!1},M===!0)continue;if(T===Kn&&l===f+1){f+=2;continue}g=l+1;continue}if(t.noext!==!0&&(v===yf||v===bf||v===Gn||v===oa||v===jn)===!0&&c()===Xn){if(m=d.isGlob=!0,A=d.isExtglob=!0,M=!0,v===jn&&l===f&&(S=!0),i===!0){for(;h()!==!0&&(v=x());){if(v===Nt){B=d.backslashes=!0,v=x();continue}if(v===la){m=d.isGlob=!0,M=!0;break}}continue}break}if(v===Gn){if(T===Gn&&($=d.isGlobstar=!0),m=d.isGlob=!0,M=!0,i===!0)continue;break}if(v===oa){if(m=d.isGlob=!0,M=!0,i===!0)continue;break}if(v===mf){for(;h()!==!0&&(G=x());){if(G===Nt){B=d.backslashes=!0,x();continue}if(G===Af){p=d.isBracket=!0,m=d.isGlob=!0,M=!0;break}}if(i===!0)continue;break}if(t.nonegate!==!0&&v===jn&&l===f){H=d.negated=!0,f++;continue}if(t.noparen!==!0&&v===Xn){if(m=d.isGlob=!0,i===!0){for(;h()!==!0&&(v=x());){if(v===Xn){B=d.backslashes=!0,v=x();continue}if(v===la){M=!0;break}}continue}break}if(m===!0){if(M=!0,i===!0)continue;break}}t.noext===!0&&(A=!1,m=!1);let k=u,D="",b="";f>0&&(D=u.slice(0,f),u=u.slice(f),g-=f),k&&m===!0&&g>0?(k=u.slice(0,g),b=u.slice(g)):m===!0?(k="",b=u):k=u,k&&k!==""&&k!=="/"&&k!==u&&fa(k.charCodeAt(k.length-1))&&(k=k.slice(0,-1)),t.unescape===!0&&(b&&(b=aa.removeBackslashes(b)),k&&B===!0&&(k=aa.removeBackslashes(k)));const w={prefix:D,input:e,start:f,base:k,glob:b,isBrace:_,isBracket:p,isGlob:m,isExtglob:A,isGlobstar:$,negated:H,negatedExtglob:S};if(t.tokens===!0&&(w.maxDepth=0,fa(v)||s.push(d),w.tokens=s),t.parts===!0||t.tokens===!0){let G;for(let E=0;E<a.length;E++){const j=G?G+1:f,F=a[E],J=e.slice(j,F);t.tokens&&(E===0&&f!==0?(s[E].isPrefix=!0,s[E].value=D):s[E].value=J,ua(s[E]),w.maxDepth+=s[E].depth),(E!==0||J!=="")&&o.push(J),G=F}if(G&&G+1<e.length){const E=e.slice(G+1);o.push(E),t.tokens&&(s[s.length-1].value=E,ua(s[s.length-1]),w.maxDepth+=s[s.length-1].depth)}w.slashes=a,w.parts=o}return w};const nn=tn,ge=Ht,{MAX_LENGTH:rn,POSIX_REGEX_SOURCE:xf,REGEX_NON_SPECIAL_CHARS:Rf,REGEX_SPECIAL_CHARS_BACKREF:Sf,REPLACEMENTS:ca}=nn,kf=(e,n)=>{if(typeof n.expandRange=="function")return n.expandRange(...e,n);e.sort();const t=`[${e.join("-")}]`;try{new RegExp(t)}catch{return e.map(i=>ge.escapeRegex(i)).join("..")}return t},dt=(e,n)=>`Missing ${e}: "${n}" - use "\\\\${n}" to match literal characters`,Qn=(e,n)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=ca[e]||e;const t={...n},r=typeof t.maxLength=="number"?Math.min(rn,t.maxLength):rn;let i=e.length;if(i>r)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${r}`);const a={type:"bos",value:"",output:t.prepend||""},s=[a],o=t.capture?"":"?:",u=ge.isWindows(n),l=nn.globChars(u),f=nn.extglobChars(l),{DOT_LITERAL:g,PLUS_LITERAL:_,SLASH_LITERAL:p,ONE_CHAR:m,DOTS_SLASH:A,NO_DOT:$,NO_DOT_SLASH:O,NO_DOTS_SLASH:B,QMARK:H,QMARK_NO_DOT:S,STAR:M,START_ANCHOR:X}=l,T=R=>`(${o}(?:(?!${X}${R.dot?A:g}).)*?)`,v=t.dot?"":$,d=t.dot?H:S;let h=t.bash===!0?T(t):M;t.capture&&(h=`(${h})`),typeof t.noext=="boolean"&&(t.noextglob=t.noext);const c={input:e,index:-1,start:0,dot:t.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:s};e=ge.removePrefix(e,c),i=e.length;const x=[],k=[],D=[];let b=a,w;const G=()=>c.index===i-1,E=c.peek=(R=1)=>e[c.index+R],j=c.advance=()=>e[++c.index]||"",F=()=>e.slice(c.index+1),J=(R="",C=0)=>{c.consumed+=R,c.index+=C},ie=R=>{c.output+=R.output!=null?R.output:R.value,J(R.value)},N=()=>{let R=1;for(;E()==="!"&&(E(2)!=="("||E(3)==="?");)j(),c.start++,R++;return R%2===0?!1:(c.negated=!0,c.start++,!0)},Q=R=>{c[R]++,D.push(R)},ee=R=>{c[R]--,D.pop()},I=R=>{if(b.type==="globstar"){const C=c.braces>0&&(R.type==="comma"||R.type==="brace"),y=R.extglob===!0||x.length&&(R.type==="pipe"||R.type==="paren");R.type!=="slash"&&R.type!=="paren"&&!C&&!y&&(c.output=c.output.slice(0,-b.output.length),b.type="star",b.value="*",b.output=h,c.output+=b.output)}if(x.length&&R.type!=="paren"&&(x[x.length-1].inner+=R.value),(R.value||R.output)&&ie(R),b&&b.type==="text"&&R.type==="text"){b.value+=R.value,b.output=(b.output||"")+R.value;return}R.prev=b,s.push(R),b=R},ne=(R,C)=>{const y={...f[C],conditions:1,inner:""};y.prev=b,y.parens=c.parens,y.output=c.output;const L=(t.capture?"(":"")+y.open;Q("parens"),I({type:R,value:C,output:c.output?"":m}),I({type:"paren",extglob:!0,value:j(),output:L}),x.push(y)},ae=R=>{let C=R.close+(t.capture?")":""),y;if(R.type==="negate"){let L=h;if(R.inner&&R.inner.length>1&&R.inner.includes("/")&&(L=T(t)),(L!==h||G()||/^\)+$/.test(F()))&&(C=R.close=`)$))${L}`),R.inner.includes("*")&&(y=F())&&/^\.[^\\/.]+$/.test(y)){const Z=Qn(y,{...n,fastpaths:!1}).output;C=R.close=`)${Z})${L})`}R.prev.type==="bos"&&(c.negatedExtglob=!0)}I({type:"paren",extglob:!0,value:w,output:C}),ee("parens")};if(t.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let R=!1,C=e.replace(Sf,(y,L,Z,z,U,q)=>z==="\\"?(R=!0,y):z==="?"?L?L+z+(U?H.repeat(U.length):""):q===0?d+(U?H.repeat(U.length):""):H.repeat(Z.length):z==="."?g.repeat(Z.length):z==="*"?L?L+z+(U?h:""):h:L?y:`\\${y}`);return R===!0&&(t.unescape===!0?C=C.replace(/\\/g,""):C=C.replace(/\\+/g,y=>y.length%2===0?"\\\\":y?"\\":"")),C===e&&t.contains===!0?(c.output=e,c):(c.output=ge.wrapOutput(C,c,n),c)}for(;!G();){if(w=j(),w==="\0")continue;if(w==="\\"){const y=E();if(y==="/"&&t.bash!==!0||y==="."||y===";")continue;if(!y){w+="\\",I({type:"text",value:w});continue}const L=/^\\+/.exec(F());let Z=0;if(L&&L[0].length>2&&(Z=L[0].length,c.index+=Z,Z%2!==0&&(w+="\\")),t.unescape===!0?w=j():w+=j(),c.brackets===0){I({type:"text",value:w});continue}}if(c.brackets>0&&(w!=="]"||b.value==="["||b.value==="[^")){if(t.posix!==!1&&w===":"){const y=b.value.slice(1);if(y.includes("[")&&(b.posix=!0,y.includes(":"))){const L=b.value.lastIndexOf("["),Z=b.value.slice(0,L),z=b.value.slice(L+2),U=xf[z];if(U){b.value=Z+U,c.backtrack=!0,j(),!a.output&&s.indexOf(b)===1&&(a.output=m);continue}}}(w==="["&&E()!==":"||w==="-"&&E()==="]")&&(w=`\\${w}`),w==="]"&&(b.value==="["||b.value==="[^")&&(w=`\\${w}`),t.posix===!0&&w==="!"&&b.value==="["&&(w="^"),b.value+=w,ie({value:w});continue}if(c.quotes===1&&w!=='"'){w=ge.escapeRegex(w),b.value+=w,ie({value:w});continue}if(w==='"'){c.quotes=c.quotes===1?0:1,t.keepQuotes===!0&&I({type:"text",value:w});continue}if(w==="("){Q("parens"),I({type:"paren",value:w});continue}if(w===")"){if(c.parens===0&&t.strictBrackets===!0)throw new SyntaxError(dt("opening","("));const y=x[x.length-1];if(y&&c.parens===y.parens+1){ae(x.pop());continue}I({type:"paren",value:w,output:c.parens?")":"\\)"}),ee("parens");continue}if(w==="["){if(t.nobracket===!0||!F().includes("]")){if(t.nobracket!==!0&&t.strictBrackets===!0)throw new SyntaxError(dt("closing","]"));w=`\\${w}`}else Q("brackets");I({type:"bracket",value:w});continue}if(w==="]"){if(t.nobracket===!0||b&&b.type==="bracket"&&b.value.length===1){I({type:"text",value:w,output:`\\${w}`});continue}if(c.brackets===0){if(t.strictBrackets===!0)throw new SyntaxError(dt("opening","["));I({type:"text",value:w,output:`\\${w}`});continue}ee("brackets");const y=b.value.slice(1);if(b.posix!==!0&&y[0]==="^"&&!y.includes("/")&&(w=`/${w}`),b.value+=w,ie({value:w}),t.literalBrackets===!1||ge.hasRegexChars(y))continue;const L=ge.escapeRegex(b.value);if(c.output=c.output.slice(0,-b.value.length),t.literalBrackets===!0){c.output+=L,b.value=L;continue}b.value=`(${o}${L}|${b.value})`,c.output+=b.value;continue}if(w==="{"&&t.nobrace!==!0){Q("braces");const y={type:"brace",value:w,output:"(",outputIndex:c.output.length,tokensIndex:c.tokens.length};k.push(y),I(y);continue}if(w==="}"){const y=k[k.length-1];if(t.nobrace===!0||!y){I({type:"text",value:w,output:w});continue}let L=")";if(y.dots===!0){const Z=s.slice(),z=[];for(let U=Z.length-1;U>=0&&(s.pop(),Z[U].type!=="brace");U--)Z[U].type!=="dots"&&z.unshift(Z[U].value);L=kf(z,t),c.backtrack=!0}if(y.comma!==!0&&y.dots!==!0){const Z=c.output.slice(0,y.outputIndex),z=c.tokens.slice(y.tokensIndex);y.value=y.output="\\{",w=L="\\}",c.output=Z;for(const U of z)c.output+=U.output||U.value}I({type:"brace",value:w,output:L}),ee("braces"),k.pop();continue}if(w==="|"){x.length>0&&x[x.length-1].conditions++,I({type:"text",value:w});continue}if(w===","){let y=w;const L=k[k.length-1];L&&D[D.length-1]==="braces"&&(L.comma=!0,y="|"),I({type:"comma",value:w,output:y});continue}if(w==="/"){if(b.type==="dot"&&c.index===c.start+1){c.start=c.index+1,c.consumed="",c.output="",s.pop(),b=a;continue}I({type:"slash",value:w,output:p});continue}if(w==="."){if(c.braces>0&&b.type==="dot"){b.value==="."&&(b.output=g);const y=k[k.length-1];b.type="dots",b.output+=w,b.value+=w,y.dots=!0;continue}if(c.braces+c.parens===0&&b.type!=="bos"&&b.type!=="slash"){I({type:"text",value:w,output:g});continue}I({type:"dot",value:w,output:g});continue}if(w==="?"){if(!(b&&b.value==="(")&&t.noextglob!==!0&&E()==="("&&E(2)!=="?"){ne("qmark",w);continue}if(b&&b.type==="paren"){const L=E();let Z=w;if(L==="<"&&!ge.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(b.value==="("&&!/[!=<:]/.test(L)||L==="<"&&!/<([!=]|\w+>)/.test(F()))&&(Z=`\\${w}`),I({type:"text",value:w,output:Z});continue}if(t.dot!==!0&&(b.type==="slash"||b.type==="bos")){I({type:"qmark",value:w,output:S});continue}I({type:"qmark",value:w,output:H});continue}if(w==="!"){if(t.noextglob!==!0&&E()==="("&&(E(2)!=="?"||!/[!=<:]/.test(E(3)))){ne("negate",w);continue}if(t.nonegate!==!0&&c.index===0){N();continue}}if(w==="+"){if(t.noextglob!==!0&&E()==="("&&E(2)!=="?"){ne("plus",w);continue}if(b&&b.value==="("||t.regex===!1){I({type:"plus",value:w,output:_});continue}if(b&&(b.type==="bracket"||b.type==="paren"||b.type==="brace")||c.parens>0){I({type:"plus",value:w});continue}I({type:"plus",value:_});continue}if(w==="@"){if(t.noextglob!==!0&&E()==="("&&E(2)!=="?"){I({type:"at",extglob:!0,value:w,output:""});continue}I({type:"text",value:w});continue}if(w!=="*"){(w==="$"||w==="^")&&(w=`\\${w}`);const y=Rf.exec(F());y&&(w+=y[0],c.index+=y[0].length),I({type:"text",value:w});continue}if(b&&(b.type==="globstar"||b.star===!0)){b.type="star",b.star=!0,b.value+=w,b.output=h,c.backtrack=!0,c.globstar=!0,J(w);continue}let R=F();if(t.noextglob!==!0&&/^\([^?]/.test(R)){ne("star",w);continue}if(b.type==="star"){if(t.noglobstar===!0){J(w);continue}const y=b.prev,L=y.prev,Z=y.type==="slash"||y.type==="bos",z=L&&(L.type==="star"||L.type==="globstar");if(t.bash===!0&&(!Z||R[0]&&R[0]!=="/")){I({type:"star",value:w,output:""});continue}const U=c.braces>0&&(y.type==="comma"||y.type==="brace"),q=x.length&&(y.type==="pipe"||y.type==="paren");if(!Z&&y.type!=="paren"&&!U&&!q){I({type:"star",value:w,output:""});continue}for(;R.slice(0,3)==="/**";){const P=e[c.index+4];if(P&&P!=="/")break;R=R.slice(3),J("/**",3)}if(y.type==="bos"&&G()){b.type="globstar",b.value+=w,b.output=T(t),c.output=b.output,c.globstar=!0,J(w);continue}if(y.type==="slash"&&y.prev.type!=="bos"&&!z&&G()){c.output=c.output.slice(0,-(y.output+b.output).length),y.output=`(?:${y.output}`,b.type="globstar",b.output=T(t)+(t.strictSlashes?")":"|$)"),b.value+=w,c.globstar=!0,c.output+=y.output+b.output,J(w);continue}if(y.type==="slash"&&y.prev.type!=="bos"&&R[0]==="/"){const P=R[1]!==void 0?"|$":"";c.output=c.output.slice(0,-(y.output+b.output).length),y.output=`(?:${y.output}`,b.type="globstar",b.output=`${T(t)}${p}|${p}${P})`,b.value+=w,c.output+=y.output+b.output,c.globstar=!0,J(w+j()),I({type:"slash",value:"/",output:""});continue}if(y.type==="bos"&&R[0]==="/"){b.type="globstar",b.value+=w,b.output=`(?:^|${p}|${T(t)}${p})`,c.output=b.output,c.globstar=!0,J(w+j()),I({type:"slash",value:"/",output:""});continue}c.output=c.output.slice(0,-b.output.length),b.type="globstar",b.output=T(t),b.value+=w,c.output+=b.output,c.globstar=!0,J(w);continue}const C={type:"star",value:w,output:h};if(t.bash===!0){C.output=".*?",(b.type==="bos"||b.type==="slash")&&(C.output=v+C.output),I(C);continue}if(b&&(b.type==="bracket"||b.type==="paren")&&t.regex===!0){C.output=w,I(C);continue}(c.index===c.start||b.type==="slash"||b.type==="dot")&&(b.type==="dot"?(c.output+=O,b.output+=O):t.dot===!0?(c.output+=B,b.output+=B):(c.output+=v,b.output+=v),E()!=="*"&&(c.output+=m,b.output+=m)),I(C)}for(;c.brackets>0;){if(t.strictBrackets===!0)throw new SyntaxError(dt("closing","]"));c.output=ge.escapeLast(c.output,"["),ee("brackets")}for(;c.parens>0;){if(t.strictBrackets===!0)throw new SyntaxError(dt("closing",")"));c.output=ge.escapeLast(c.output,"("),ee("parens")}for(;c.braces>0;){if(t.strictBrackets===!0)throw new SyntaxError(dt("closing","}"));c.output=ge.escapeLast(c.output,"{"),ee("braces")}if(t.strictSlashes!==!0&&(b.type==="star"||b.type==="bracket")&&I({type:"maybe_slash",value:"",output:`${p}?`}),c.backtrack===!0){c.output="";for(const R of c.tokens)c.output+=R.output!=null?R.output:R.value,R.suffix&&(c.output+=R.suffix)}return c};Qn.fastpaths=(e,n)=>{const t={...n},r=typeof t.maxLength=="number"?Math.min(rn,t.maxLength):rn,i=e.length;if(i>r)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${r}`);e=ca[e]||e;const a=ge.isWindows(n),{DOT_LITERAL:s,SLASH_LITERAL:o,ONE_CHAR:u,DOTS_SLASH:l,NO_DOT:f,NO_DOTS:g,NO_DOTS_SLASH:_,STAR:p,START_ANCHOR:m}=nn.globChars(a),A=t.dot?g:f,$=t.dot?_:f,O=t.capture?"":"?:",B={negated:!1,prefix:""};let H=t.bash===!0?".*?":p;t.capture&&(H=`(${H})`);const S=v=>v.noglobstar===!0?H:`(${O}(?:(?!${m}${v.dot?l:s}).)*?)`,M=v=>{switch(v){case"*":return`${A}${u}${H}`;case".*":return`${s}${u}${H}`;case"*.*":return`${A}${H}${s}${u}${H}`;case"*/*":return`${A}${H}${o}${u}${$}${H}`;case"**":return A+S(t);case"**/*":return`(?:${A}${S(t)}${o})?${$}${u}${H}`;case"**/*.*":return`(?:${A}${S(t)}${o})?${$}${H}${s}${u}${H}`;case"**/.*":return`(?:${A}${S(t)}${o})?${s}${u}${H}`;default:{const d=/^(.*?)\.(\w+)$/.exec(v);if(!d)return;const h=M(d[1]);return h?h+s+d[2]:void 0}}},X=ge.removePrefix(e,B);let T=M(X);return T&&t.strictSlashes!==!0&&(T+=`${o}?`),T};var Cf=Qn;const Tf=Bn,Of=Ef,qn=Cf,Yn=Ht,$f=tn,Lf=e=>e&&typeof e=="object"&&!Array.isArray(e),re=(e,n,t=!1)=>{if(Array.isArray(e)){const f=e.map(_=>re(_,n,t));return _=>{for(const p of f){const m=p(_);if(m)return m}return!1}}const r=Lf(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!r)throw new TypeError("Expected pattern to be a non-empty string");const i=n||{},a=Yn.isWindows(n),s=r?re.compileRe(e,n):re.makeRe(e,n,!1,!0),o=s.state;delete s.state;let u=()=>!1;if(i.ignore){const f={...n,ignore:null,onMatch:null,onResult:null};u=re(i.ignore,f,t)}const l=(f,g=!1)=>{const{isMatch:_,match:p,output:m}=re.test(f,s,n,{glob:e,posix:a}),A={glob:e,state:o,regex:s,posix:a,input:f,output:m,match:p,isMatch:_};return typeof i.onResult=="function"&&i.onResult(A),_===!1?(A.isMatch=!1,g?A:!1):u(f)?(typeof i.onIgnore=="function"&&i.onIgnore(A),A.isMatch=!1,g?A:!1):(typeof i.onMatch=="function"&&i.onMatch(A),g?A:!0)};return t&&(l.state=o),l};re.test=(e,n,t,{glob:r,posix:i}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};const a=t||{},s=a.format||(i?Yn.toPosixSlashes:null);let o=e===r,u=o&&s?s(e):e;return o===!1&&(u=s?s(e):e,o=u===r),(o===!1||a.capture===!0)&&(a.matchBase===!0||a.basename===!0?o=re.matchBase(e,n,t,i):o=n.exec(u)),{isMatch:Boolean(o),match:o,output:u}},re.matchBase=(e,n,t,r=Yn.isWindows(t))=>(n instanceof RegExp?n:re.makeRe(n,t)).test(Tf.basename(e)),re.isMatch=(e,n,t)=>re(n,t)(e),re.parse=(e,n)=>Array.isArray(e)?e.map(t=>re.parse(t,n)):qn(e,{...n,fastpaths:!1}),re.scan=(e,n)=>Of(e,n),re.compileRe=(e,n,t=!1,r=!1)=>{if(t===!0)return e.output;const i=n||{},a=i.contains?"":"^",s=i.contains?"":"$";let o=`${a}(?:${e.output})${s}`;e&&e.negated===!0&&(o=`^(?!${o}).*$`);const u=re.toRegex(o,n);return r===!0&&(u.state=e),u},re.makeRe=(e,n={},t=!1,r=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return n.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(i.output=qn.fastpaths(e,n)),i.output||(i=qn(e,n)),re.compileRe(i,n,t,r)},re.toRegex=(e,n)=>{try{const t=n||{};return new RegExp(e,t.flags||(t.nocase?"i":""))}catch(t){if(n&&n.debug===!0)throw t;return/$^/}},re.constants=$f;var Hf=re,Nf=Hf;const ha=$i,da=nf,Te=Nf,Vn=Ht,_a=e=>e===""||e==="./",V=(e,n,t)=>{n=[].concat(n),e=[].concat(e);let r=new Set,i=new Set,a=new Set,s=0,o=f=>{a.add(f.output),t&&t.onResult&&t.onResult(f)};for(let f=0;f<n.length;f++){let g=Te(String(n[f]),{...t,onResult:o},!0),_=g.state.negated||g.state.negatedExtglob;_&&s++;for(let p of e){let m=g(p,!0);!(_?!m.isMatch:m.isMatch)||(_?r.add(m.output):(r.delete(m.output),i.add(m.output)))}}let l=(s===n.length?[...a]:[...i]).filter(f=>!r.has(f));if(t&&l.length===0){if(t.failglob===!0)throw new Error(`No matches found for "${n.join(", ")}"`);if(t.nonull===!0||t.nullglob===!0)return t.unescape?n.map(f=>f.replace(/\\/g,"")):n}return l};V.match=V,V.matcher=(e,n)=>Te(e,n),V.isMatch=(e,n,t)=>Te(n,t)(e),V.any=V.isMatch,V.not=(e,n,t={})=>{n=[].concat(n).map(String);let r=new Set,i=[],a=o=>{t.onResult&&t.onResult(o),i.push(o.output)},s=new Set(V(e,n,{...t,onResult:a}));for(let o of i)s.has(o)||r.add(o);return[...r]},V.contains=(e,n,t)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${ha.inspect(e)}"`);if(Array.isArray(n))return n.some(r=>V.contains(e,r,t));if(typeof n=="string"){if(_a(e)||_a(n))return!1;if(e.includes(n)||e.startsWith("./")&&e.slice(2).includes(n))return!0}return V.isMatch(e,n,{...t,contains:!0})},V.matchKeys=(e,n,t)=>{if(!Vn.isObject(e))throw new TypeError("Expected the first argument to be an object");let r=V(Object.keys(e),n,t),i={};for(let a of r)i[a]=e[a];return i},V.some=(e,n,t)=>{let r=[].concat(e);for(let i of[].concat(n)){let a=Te(String(i),t);if(r.some(s=>a(s)))return!0}return!1},V.every=(e,n,t)=>{let r=[].concat(e);for(let i of[].concat(n)){let a=Te(String(i),t);if(!r.every(s=>a(s)))return!1}return!0},V.all=(e,n,t)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${ha.inspect(e)}"`);return[].concat(n).every(r=>Te(r,t)(e))},V.capture=(e,n,t)=>{let r=Vn.isWindows(t),a=Te.makeRe(String(e),{...t,capture:!0}).exec(r?Vn.toPosixSlashes(n):n);if(a)return a.slice(1).map(s=>s===void 0?"":s)},V.makeRe=(...e)=>Te.makeRe(...e),V.scan=(...e)=>Te.scan(...e),V.parse=(e,n)=>{let t=[];for(let r of[].concat(e||[]))for(let i of da(String(r),n))t.push(Te.parse(i,n));return t},V.braces=(e,n)=>{if(typeof e!="string")throw new TypeError("Expected a string");return n&&n.nobrace===!0||!/\{.*\}/.test(e)?[e]:da(e,n)},V.braceExpand=(e,n)=>{if(typeof e!="string")throw new TypeError("Expected a string");return V.braces(e,{...n,expand:!0})};var It=V;const If=["simwrapper",".simwrapper"],Dt={};class Df{constructor(n,t){this.urlId=n.slug,this.needsAuth=!!n.needPassword,this.fsHandle=n.handle||null,this.store=t||null,this.baseUrl=n.baseURL,n.baseURL.endsWith("/")||(this.baseUrl+="/"),Dt[this.urlId]||(Dt[this.urlId]={})}async getChromePermission(n){return n&&await n.queryPermission({mode:"read"})!=="granted"&&this.store?await new Promise(a=>{this.store.commit("setFileHandleForPermissionRequest",{handle:n,resolve:a})}):!0}clearCache(){Dt[this.urlId]={}}cleanURL(n){let t=this.baseUrl+n.replace(/^0-9a-zA-Z_\-\/:+/i,"");return t=t.replaceAll("//","/"),t=t.replaceAll("//","/"),t=t.replace("https:/","https://"),t=t.replace("http:/","http://"),t=new URL(t).href,t}async _getFileResponse(n){return this.fsHandle?this._getFileFromChromeFileSystem(n):this._getFileFetchResponse(n)}async _getFileFetchResponse(n){const t=this.cleanURL(n),r={},i=new Request(t,{headers:r});return await fetch(i).then(s=>{if(s.status!=200)throw console.log("Status:",s.status),s;return s})}async _getFileFromChromeFileSystem(n){let t=n.replace(/^0-9a-zA-Z_\-\/:+/i,"");t=t.replaceAll("//","/"),t=new URL(`http://local/${t}`).href,t=t.substring(13);const r=t.lastIndexOf("/"),i=t.substring(0,r),a=t.substring(r+1),o=(await this.getDirectory(i)).handles[a];if(!o)throw Error(`File ${a} missing`);const u=await o.getFile();return u.json=()=>new Promise(async(l,f)=>{const g=await u.text(),_=JSON.parse(g);l(_)}),u.blob=()=>new Promise(async(l,f)=>{l(u)}),new Promise((l,f)=>{l(u)})}async getFileText(n){return(await this._getFileResponse(n)).text()}async getFileJson(n){const i=await(await(await this._getFileResponse(n)).blob()).arrayBuffer(),a=this.gUnzip(i),s=new TextDecoder("utf-8").decode(a);return JSON.parse(s)}async getFileBlob(n){return(await this._getFileResponse(n)).blob()}async getFileStream(n){return this.fsHandle?await this._getFileFromChromeFileSystem(n).then(r=>r.blob()).then(r=>r.stream()):await this._getFileFetchResponse(n).then(r=>r.body)}async getDirectory(n){let t=n.replaceAll("//","/");t.endsWith("/")||(t+="/");const r=Dt[this.urlId][t];if(r)return r;try{const i=this.fsHandle?await this.getDirectoryFromHandle(t):await this.getDirectoryFromURL(t);return Dt[this.urlId][t]=i,i}catch(i){throw Error(""+i)}}async getDirectoryFromHandle(n,t){const r={files:[],dirs:[],handles:{}};if(!this.fsHandle||!await this.getChromePermission(this.fsHandle))return r;let a=n.split("/").filter(l=>!!l);function s(l){const f=l.indexOf("..");if(f<=0)return l;const g=l.filter((_,p)=>p!==f-1&&p!==f);return s(g)}const o=s(a);let u=this.fsHandle;if(o.length)for(const l of o){let f=!1;for await(let[g,_]of u)if(g===l){u=_,f=!0;break}if(!f)throw Error(`Could not find folder "${l}"`)}for await(let l of u.values())r.handles&&(r.handles[l.name]=l),l.kind==="file"?r.files.push(l.name):r.dirs.push(l.name);return r}async getDirectoryFromURL(n){const r=await(await this._getFileResponse(n).then()).text();return this.buildListFromHtml(r)}async findAllYamlConfigs(n){const t={dashboards:{},topsheets:{},vizes:{},configs:{}},r=[];let i="/";const s=(n.startsWith("/")?n:"/"+n).split("/");for(const g of s.slice(0,s.length-1)){i=`${i}${g}/`.replaceAll("//","/");try{const{dirs:_}=await this.getDirectory(i);for(const p of If)_.includes(p)&&r.push(`${i}/${p}`.replaceAll("//","/"))}catch{}}r.push(n);const o="dashboard*.y?(a)ml",u="(topsheet|table)*.y?(a)ml",l="viz*.y?(a)ml",f="simwrapper-config.y?(a)ml";for(const g of r){const{files:_}=await this.getDirectory(g);It.match(_,o).map(p=>t.dashboards[p]=`${g}/${p}`.replaceAll("//","/")),It.match(_,u).map(p=>t.topsheets[p]=`${g}/${p}`.replaceAll("//","/")),It.match(_,l).map(p=>t.vizes[p]=`${g}/${p}`.replaceAll("//","/")),It.match(_,f).map(p=>t.configs[p]=`${g}/${p}`.replaceAll("//","/"))}return t.dashboards=Object.fromEntries(Object.entries(t.dashboards).sort((g,_)=>g[0]>_[0]?1:-1)),t.topsheets=Object.fromEntries(Object.entries(t.topsheets).sort((g,_)=>g[0]>_[0]?1:-1)),t.vizes=Object.fromEntries(Object.entries(t.vizes).sort((g,_)=>g[0]>_[0]?1:-1)),t.configs=Object.fromEntries(Object.entries(t.configs).sort((g,_)=>g[0]>_[0]?1:-1)),t}buildListFromHtml(n){return n.indexOf("SimpleWebServer")>-1?this.buildListFromSimpleWebServer(n):n.indexOf("<ul>")>-1?this.buildListFromSVN(n):n.indexOf("<table>")>-1?this.buildListFromApache24(n):n.indexOf(`
<a `)>-1?this.buildListFromNGINX(n):{dirs:[],files:[],handles:{}}}buildListFromSimpleWebServer(n){const t=/">(.*?)<\/a/,r=[],i=[],a=n.split(`
`);for(const s of a){if(s.indexOf('<li><a href="')<0)continue;const u=s.match(t);if(!u)continue;const l=u[1];l.endsWith("/")?r.push(l.substring(0,l.length-1)):i.push(l)}return{dirs:r,files:i,handles:{}}}buildListFromSVN(n){const t=/"(.*?)"/,r=[],i=[],a=n.split(`
`);for(const s of a){if(s.indexOf('<li><a href="')<0)continue;const u=s.match(t);if(!u)continue;let l=u[1];l!=="../"&&(l.startsWith("./")&&(l=l.substring(2)),l.endsWith("/")?r.push(l.substring(0,l.length-1)):i.push(l))}return{dirs:r,files:i,handles:{}}}buildListFromApache24(n){const t=/"(.*?)"/,r=[],i=[],a=n.split(`
`);for(const s of a){if(s.indexOf('<th "')>-1||s.indexOf("[PARENTDIR]")>-1)continue;const o=s.indexOf('<td><a href="');if(o<0)continue;const u=s.substring(o).match(t);if(!u)continue;const l=u[1];l!=="../"&&(l.endsWith("/")?r.push(l.substring(0,l.length-1)):i.push(l))}return{dirs:r,files:i,handles:{}}}buildListFromNGINX(n){const t=/"(.*?)"/,r=[],i=[],a=n.split(`
`);for(const s of a){const o=s.indexOf('<a href="');if(o<0)continue;const u=s.substring(o).match(t);if(!u)continue;const l=u[1];l!=="../"&&(l.endsWith("/")?r.push(l.substring(0,l.length-1)):i.push(l))}return{dirs:r,files:i,handles:{}}}gUnzip(n){const t=new Uint8Array(n.slice(0,2));return t[0]===31&&t[1]===139?this.gUnzip(Ei.inflate(n)):n}}var pa={};(function(e){const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",t=n+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",r="["+n+"]["+t+"]*",i=new RegExp("^"+r+"$"),a=function(o,u){const l=[];let f=u.exec(o);for(;f;){const g=[];g.startIndex=u.lastIndex-f[0].length;const _=f.length;for(let p=0;p<_;p++)g.push(f[p]);l.push(g),f=u.exec(o)}return l},s=function(o){const u=i.exec(o);return!(u===null||typeof u=="undefined")};e.isExist=function(o){return typeof o!="undefined"},e.isEmptyObject=function(o){return Object.keys(o).length===0},e.merge=function(o,u,l){if(u){const f=Object.keys(u),g=f.length;for(let _=0;_<g;_++)l==="strict"?o[f[_]]=[u[f[_]]]:o[f[_]]=u[f[_]]}},e.getValue=function(o){return e.isExist(o)?o:""},e.isName=s,e.getAllMatches=a,e.nameRegexp=r})(pa),!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const Ff=pa;"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,Ff.nameRegexp);function zf(e,n){if(e.indexOf(n)>-1)return[n];const t=It(e,n);return t.length?t:[]}let Jn,Ft="",er=[],te={},me="",tr,nr=!1;const Pe={};onmessage=function(e){Mf(e.data)};async function Mf(e){var n;if(te=e.config,me=te.dataset,(n=e.options)!=null&&n.highPrecision&&(nr=!0),e.featureProperties){Uf(e.featureProperties),postMessage(Pe[me]);return}if(e.buffer){tr=e.buffer,ga(me,tr),postMessage(Pe[me]);return}Jn=new Df(e.fileSystemConfig),Ft=e.subfolder,er=e.files,tr=e.buffer;try{const t=te.dataset.indexOf("/");if(t>-1){const r=t===0?te.dataset:`${Ft}/${te.dataset}`;me=r.substring(1+r.lastIndexOf("/")),Ft=r.substring(0,r.lastIndexOf("/"));const{files:i}=await Jn.getDirectory(Ft);er=i}await Bf(),postMessage(Pe[me])}catch(t){const r=""+t;postMessage({error:r})}}function Uf(e){const n={},t=e[0];let r=Object.keys(t).sort();if(te.drop){let i=Array.isArray(te.drop)?te.drop:te.drop.split(",");i.length&&(console.log("DROPPING",i),r=r.filter(a=>i.indexOf(a)==-1))}if(te.keep){let i=Array.isArray(te.keep)?te.keep:te.keep.split(",");i.length&&(console.log("KEEPING",i),r=r.filter(a=>i.indexOf(a)>-1))}for(const i of r){let a,s=he.NUMBER;typeof t[i]=="number"?(a=nr?new Float64Array(e.length):new Float32Array(e.length),a.fill(NaN)):(a=[],s=he.STRING),n[i]={name:i,values:a,type:s}}for(let i=0;i<e.length;i++){const a=e[i];for(const s of r){const o=a[s];n[s].values[i]=o}}Pe[me]=n,rr(me,n)}async function Bf(){const e=me,n=zf(er,e);if(n.length==0)throw Error(`No files matched "${e}"`);if(n.length>1)throw Error(`More than one file matched "${e}": ${n}`);const t=n[0],r=await Gf(t);ga(t,r)}async function ga(e,n){if(e&&e.toLocaleLowerCase().endsWith(".dbf")){const t=hl(n,new TextDecoder("windows-1252"));rr(me,t),Pe[me]=t}else{const t=new TextDecoder().decode(n);await Pf(me,e,t)}}async function Pf(e,n,t){function r(i,a){return Array.isArray(a)&&a.length>0?r(i[a[0]],a.slice(1)):i}if(n.indexOf(".xml")>-1){const i={},a=te;if(a.xmlElements){const s=a.xmlElements.split(".");r(i,s),Pe[e]={}}else Pe[e]={};return}Zf(e,n,t)}function Zf(e,n,t){const r={},i={},a=pl.parse(t,{delimitersToGuess:["	",";",","," "],comments:"#",skipEmptyLines:!0,dynamicTyping:!0,header:!0,transformHeader:(o,u)=>(i[o]||(i[o]=0),i[o]+=1,i[o]>1?`${o.trim()}_${i[o]-1}`:o.trim())});let s=a.meta.fields||[];if(te.drop){let o=Array.isArray(te.drop)?te.drop:te.drop.split(",");o.length&&(console.log("DROPPING",o),s=s.filter(u=>o.indexOf(u)==-1))}if(te.keep){let o=Array.isArray(te.keep)?te.keep:te.keep.split(",");o.length&&(console.log("KEEPING",o),s=s.filter(u=>o.indexOf(u)>-1))}for(const o of s){const u=nr?new Float64Array(a.data.length).fill(NaN):new Float32Array(a.data.length).fill(NaN);r[o]={name:o,values:u,type:he.NUMBER}}for(let o=0;o<a.data.length;o++){const u=a.data[o];for(const l of s){const f=u[l];if(f!=="")if(Number.isFinite(f))r[l].values[o]=f;else if(Array.isArray(r[l].values))r[l].values[o]=f;else{const g=Array.from(r[l].values.slice(0,o));typeof f=="string"&&(r[l].type=he.STRING),typeof f=="boolean"&&(r[l].type=he.BOOLEAN),g[o]=f,r[l].values=g}}}rr(e,r),Pe[e]=r}function rr(e,n){for(const t of Object.values(n)){if(t.type!==he.NUMBER)continue;let r=-1/0;for(const i of t.values)r=Math.max(r,i);t.max=r}}async function Gf(e){function n(s){const o=new Uint8Array(s.slice(0,2));return o[0]===31&&o[1]===139?n(Ei.inflate(s)):s}const t=`${Ft}/${e}`,r=await Jn.getFileBlob(t);if(!r)throw Error("BLOB IS NULL");const i=await r.arrayBuffer();return n(i)}})();
//# sourceMappingURL=DataFetcher.worker.00051266.js.map