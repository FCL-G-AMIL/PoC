import{d as o,g as n,n as r}from"./index.1d7144b8.js";import{r as l}from"./index.a906c0e7.js";const m=o({name:"ImageViewPlugin",props:{fileApi:{type:Object,required:!0},subfolder:{type:String,required:!0},yamlConfig:String,thumbnail:Boolean},data:()=>({globalState:n.state,myState:{},matsimPngTitles:{"modestats.png":"Mode statistics","ph_modestats.png":"Passenger hours traveled per mode","pkm_modestats.png":"Passenger km traveled per mode","scorestats.png":"Score statistics","stopwatch.png":"Stopwatch: computation time","traveldistancestatslegs.png":"Leg travel distance","traveldistancestatstrips.png":"Trip travel distance"}}),computed:{isDarkMode(){return this.globalState.isDarkMode}},methods:{buildRouteFromUrl(){const t=this.$route.params;if(!t.project||!t.pathMatch){console.log("I CANT EVEN: NO PROJECT/PARHMATCH");return}const e=1+t.pathMatch.lastIndexOf("/"),a=t.pathMatch.substring(0,e),s=t.pathMatch.substring(e);this.myState.subfolder=a,this.myState.yamlConfig=s},async getVizDetails(){try{const t=await this.myState.fileApi.getFileBlob(this.myState.subfolder+"/"+this.myState.yamlConfig);if(!t){console.log("no blob! :-(");return}const e=await l.dataurl(t);this.myState.imageData=e;const a=this.yamlConfig,s=this.matsimPngTitles[a]?this.matsimPngTitles[a]:this.yamlConfig;this.$emit("title",s)}catch(t){return console.error({e:t}),null}}},watch:{yamlConfig(){this.myState.yamlConfig=this.yamlConfig,this.getVizDetails()},subfolder(){this.myState.subfolder=this.subfolder,this.getVizDetails()}},mounted(){this.myState={fileApi:this.fileApi,subfolder:this.subfolder,yamlConfig:this.yamlConfig,thumbnail:this.thumbnail,imageData:""},this.yamlConfig||this.buildRouteFromUrl(),this.getVizDetails()}});var c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.myState.yamlConfig?a("div",{staticClass:"image-container",class:{zthumbnail:t.thumbnail}},[a("img",{staticClass:"medium-zoom",class:{"invert-colors":t.isDarkMode},attrs:{src:t.myState.imageData}})]):t._e()},g=[];const i={};var u=r(m,c,g,!1,h,"1d0ea768",null,null);function h(t){for(let e in i)this[e]=i[e]}var f=function(){return u.exports}();export{f as default};
//# sourceMappingURL=ImageView.cc0cc78e.js.map
