import{d as h,g as l,n as g}from"./index.1d7144b8.js";const n=[{pixels:1e4,factor:.01,length:10,label:"m"},{pixels:5e3,factor:.02,length:20,label:"m"},{pixels:2e3,factor:.05,length:50,label:"m"},{pixels:1e3,factor:.1,length:100,label:"m"},{pixels:500,factor:.2,length:200,label:"m"},{pixels:250,factor:.5,length:500,label:"m"},{pixels:100,factor:1,length:1,label:"km"},{pixels:50,factor:2,length:2,label:"km"},{pixels:20,factor:5,length:5,label:"km"},{pixels:8,factor:10,length:10,label:"km"},{pixels:4,factor:20,length:20,label:"km"},{pixels:2,factor:50,length:50,label:"km"},{pixels:1,factor:100,length:100,label:"km"}],r=[{pixels:2e4,factor:.003787878,length:20,label:"ft"},{pixels:1e4,factor:.00946969696,length:50,label:"ft"},{pixels:5e3,factor:.0189393939,length:100,label:"ft"},{pixels:2500,factor:.04734848,length:250,label:"ft"},{pixels:1e3,factor:.09469696,length:500,label:"ft"},{pixels:500,factor:.18939393,length:1e3,label:"ft"},{pixels:300,factor:.25,length:.25,label:"mi"},{pixels:180,factor:.5,length:.5,label:"mi"},{pixels:80,factor:1,length:1,label:"mi"},{pixels:40,factor:2,length:2,label:"mi"},{pixels:20,factor:5,length:5,label:"mi"},{pixels:8,factor:10,length:10,label:"mi"},{pixels:4,factor:25,length:25,label:"mi"},{pixels:1.5,factor:50,length:50,label:"mi"}];var u=h({name:"MapScale",data:()=>({globalState:l.state,showScale:!1,metric:{pixels:100,length:1e3,label:"m"},miles:{pixels:100,length:1e3,label:"mi"}}),mounted(){this.zoomChanged()},watch:{"globalState.viewState.zoom"(){this.zoomChanged()},"globalState.viewState.pitch"(){this.zoomChanged()},"globalState.viewState.latitude"(){this.zoomChanged()}},methods:{zoomChanged(){if(this.globalState.viewState.pitch>15||this.globalState.viewState.zoom<5){this.showScale=!1;return}this.showScale=!0;const t=156543.03,o=Math.PI/180*this.globalState.viewState.latitude,e=this.globalState.viewState.zoom,a=t*Math.cos(o)/2**e,s=window.devicePixelRatio*1e3/a;this.calculateBestMeasurements(s)},calculateBestMeasurements(t){let o={pixels:t/200,length:5,label:"m"};for(let s=0;s<n.length;s++){const i=n[s];if(t>i.pixels)break;o={pixels:t*i.factor,length:i.length,label:i.label}}const e=t*1.609344;let a={pixels:10*e/5280,length:10,label:"ft"};for(let s=0;s<r.length;s++){const i=r[s];if(e>i.pixels)break;a={pixels:e*i.factor,length:i.length,label:i.label}}this.metric=o,this.miles=a}}}),_=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.showScale,expression:"showScale"}],staticClass:"map-scale"},[e("div",{staticClass:"feet",style:{width:`${t.miles.pixels}px`}},[e("p",[t._v(t._s(t.miles.length)+"\xA0"+t._s(t.miles.label))])]),e("div",{staticClass:"meters",style:{width:`${t.metric.pixels}px`}},[e("p",[t._v(t._s(t.metric.length)+"\xA0"+t._s(t.metric.label))])])])},b=[];const c={};var p=g(u,_,b,!1,f,"84bbe3fe",null,null);function f(t){for(let o in c)this[o]=c[o]}var v=function(){return p.exports}();const d={messages:{en:{in:"Zoom in",out:"Zoom out",center:"North"},de:{in:"Einzoomen",out:"Auszoomen",center:"Norden"}}};var x=h({name:"ZoomButtons",i18n:d,components:{MapScale:v},props:{corner:String},data:()=>({globalState:l.state,zoomInFactor:.5,zoomOutFactor:.5,maxZoomIn:20,maxZoomOut:0,arrowRotation:0,location:0,smooth:[.0125,.025,.05,.1,.15,.2,.3,.4,.6,.7,.8,.85,.9,.95,.975,.9875,1]}),mounted(){this.corner&&this.corner.startsWith("top")&&(this.location=0),this.corner&&this.corner.startsWith("bottom")&&(this.location=1)},watch:{"globalState.viewState.bearing"(){this.updateNorthArrow()}},computed:{cornerSettings(){let t={display:"flex",right:"7px"};return this.location==0&&(t=Object.assign(t,{flexDirection:"row",top:"5px"})),this.location==1&&(t=Object.assign(t,{flexDirection:"column-reverse",bottom:"32px"})),t}},methods:{setNorth(){const t=l.state.viewState;for(let o=0;o<this.smooth.length;o++)setTimeout(()=>{const e=Object.assign({},t,{bearing:t.bearing-this.smooth[o]*t.bearing,pitch:t.pitch-this.smooth[o]*t.pitch});l.commit("setMapCamera",e)},24*o)},zoomIn(){let t=l.state.viewState.zoom;if(t+this.zoomInFactor<=this.maxZoomIn)for(let o=0;o<this.smooth.length;o++)setTimeout(()=>{const e={zoom:t+this.smooth[o]*this.zoomInFactor},a=l.state.viewState,s=Object.assign({},a,e);l.commit("setMapCamera",s)},16.67*o)},zoomOut(){var t=l.state.viewState.zoom;if(t-this.zoomOutFactor>=this.maxZoomOut)for(let o=0;o<this.smooth.length;o++)setTimeout(()=>{const e={zoom:t-this.smooth[o]*this.zoomInFactor},a=l.state.viewState,s=Object.assign({},a,e);l.commit("setMapCamera",s)},16.67*o)},updateNorthArrow(){this.arrowRotation=-1*this.globalState.viewState.bearing}}}),w="/assets/sw_plus_dm.addc2ce2.jpg",S="/assets/sw_plus.c32d0b8a.jpg",$="/assets/sw_minus_dm.92f86065.jpg",z="/assets/sw_minus.5b756579.jpg",k="/assets/sw_north_arrow_dm.aa6d011c.png",C="/assets/sw_north_arrow.5b7b9814.png",M=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"map-complications",style:t.cornerSettings},[e("map-scale",{staticClass:"map-scale"}),e("div",{staticClass:"zoom-buttons"},[e("div",{staticClass:"button-single button-top"},[t.globalState.isDarkMode?e("img",{staticClass:"img-button",attrs:{title:t.$t("in"),src:w},on:{click:function(a){return t.zoomIn()}}}):e("img",{staticClass:"img-button",attrs:{title:t.$t("in"),src:S},on:{click:function(a){return t.zoomIn()}}})]),e("div",{staticClass:"button-single"},[t.globalState.isDarkMode?e("img",{staticClass:"img-button",attrs:{title:t.$t("out"),src:$},on:{click:function(a){return t.zoomOut()}}}):e("img",{staticClass:"img-button",attrs:{title:t.$t("out"),src:z},on:{click:function(a){return t.zoomOut()}}})]),t.globalState.isDarkMode?e("div",{staticClass:"button-single button-bottom",style:{background:"rgb(43,60,78)",border:"1px solid rgb(119,119,119)"}},[t.globalState.isDarkMode?e("img",{staticClass:"img-button",style:{transform:`rotate(${t.arrowRotation}deg)`,background:"rgb(43,60,78)",height:"21px"},attrs:{title:t.$t("center"),src:k},on:{click:function(a){return t.setNorth()}}}):t._e()]):t._e(),t.globalState.isDarkMode?t._e():e("div",{staticClass:"button-single button-bottom",style:{border:"1px solid rgb(224,224,224)"}},[e("img",{staticClass:"img-button",style:{transform:`rotate(${t.arrowRotation}deg)`,height:"21px"},attrs:{title:t.$t("center"),src:C},on:{click:function(a){return t.setNorth()}}})])])],1)},y=[];const m={};var D=g(x,M,y,!1,Z,"5846d3bc",null,null);function Z(t){for(let o in m)this[o]=m[o]}var O=function(){return D.exports}();export{O as Z};
//# sourceMappingURL=ZoomButtons.6b3cc4d8.js.map
