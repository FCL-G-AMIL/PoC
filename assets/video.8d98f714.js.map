{"version":3,"file":"video.8d98f714.js","sources":["../../src/dash-panels/video.vue","../../src/dash-panels/video.vue?vue&type=template&lang.js"],"sourcesContent":["<template lang=\"pug\">\r\n\r\nfigure(class=\"video_container\")\r\n\r\n  video(:controls=\"controls\" :loop='loop' :allowfullscreen='allowfullscreen' :autoplay=\"autoplay\" :muted=\"muted\")\r\n\r\n    source(v-for=\"(src, type) in sources\" :src=\"src\" :type=\"type\" :key=\"type\")\r\n\r\n    p(v-for=\"(src, type) in sources\" :key=\"type\") Video tag not supported. Download the video&nbsp;\r\n      a(:href=\"src\" target=\"_blank\") here\r\n\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue'\r\nimport type { PropType } from 'vue'\r\n\r\nimport { FileSystemConfig } from '@/Globals'\r\nimport HTTPFileSystem from '@/js/HTTPFileSystem'\r\n\r\nexport default defineComponent({\r\n  name: 'VideoPanel',\r\n  props: {\r\n    fileSystemConfig: { type: Object as PropType<FileSystemConfig>, required: true },\r\n    subfolder: { type: String, required: true },\r\n    files: { type: Array, required: true },\r\n    config: { type: Object as any, required: true },\r\n  },\r\n  data: () => {\r\n    return {\r\n      controls: '', // string | null = null,\r\n      loop: '', // string | null = null\r\n      allowfullscreen: '', // : string | null = null\r\n      autoplay: '', // string | null = null\r\n      muted: '', // string | null = null\r\n      sources: {} as { [key: string]: string },\r\n      r: new RegExp('^(?:[a-z]+:)?//', 'i'),\r\n    }\r\n  },\r\n  async mounted() {\r\n    this.controls = this.config.controls\r\n    this.loop = this.config.loop\r\n    this.allowfullscreen = this.config.allowfullscreen\r\n    this.autoplay = this.config.autoplay\r\n    this.muted = this.config.muted\r\n\r\n    this.sources = {}\r\n\r\n    const fileApi = new HTTPFileSystem(this.fileSystemConfig)\r\n\r\n    // Resolve relative URLs\r\n    for (const k in this.config.sources) {\r\n      var url = this.config.sources[k]\r\n\r\n      if (!this.r.test(url)) url = fileApi.cleanURL(`${this.subfolder}/${url}`)\r\n      this.sources[k] = url\r\n    }\r\n\r\n    this.$emit('isLoaded')\r\n  },\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import '@/styles.scss';\r\n\r\n.dash-element {\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n@media only screen and (max-width: 640px) {\r\n}\r\n</style>\r\n","\r\n\r\nfigure(class=\"video_container\")\r\n\r\n  video(:controls=\"controls\" :loop='loop' :allowfullscreen='allowfullscreen' :autoplay=\"autoplay\" :muted=\"muted\")\r\n\r\n    source(v-for=\"(src, type) in sources\" :src=\"src\" :type=\"type\" :key=\"type\")\r\n\r\n    p(v-for=\"(src, type) in sources\" :key=\"type\") Video tag not supported. Download the video&nbsp;\r\n      a(:href=\"src\" target=\"_blank\") here\r\n\r\n"],"names":["__vue2_script","defineComponent","fileApi","HTTPFileSystem","k","url","render","_vm","_h","_c","src","type","staticRenderFns"],"mappings":"gGAoBA,IAAAA,EAAAC,EAAA,CACA,KAAA,aACA,MAAA,CACA,iBAAA,CAAA,KAAA,OAAA,SAAA,EAAA,EACA,UAAA,CAAA,KAAA,OAAA,SAAA,EAAA,EACA,MAAA,CAAA,KAAA,MAAA,SAAA,EAAA,EACA,OAAA,CAAA,KAAA,OAAA,SAAA,EAAA,CACA,EACA,KAAA,KACA,CACA,SAAA,GACA,KAAA,GACA,gBAAA,GACA,SAAA,GACA,MAAA,GACA,QAAA,CAAA,EACA,EAAA,IAAA,OAAA,kBAAA,GAAA,CAAA,GAGA,MAAA,SAAA,CACA,KAAA,SAAA,KAAA,OAAA,SACA,KAAA,KAAA,KAAA,OAAA,KACA,KAAA,gBAAA,KAAA,OAAA,gBACA,KAAA,SAAA,KAAA,OAAA,SACA,KAAA,MAAA,KAAA,OAAA,MAEA,KAAA,QAAA,GAEA,MAAAC,EAAA,IAAAC,EAAA,KAAA,gBAAA,EAGA,UAAAC,KAAA,KAAA,OAAA,QAAA,CACA,IAAAC,EAAA,KAAA,OAAA,QAAAD,GAEA,KAAA,EAAA,KAAAC,CAAA,IAAAA,EAAAH,EAAA,SAAA,GAAA,KAAA,aAAAG,GAAA,GACA,KAAA,QAAAD,GAAAC,CACA,CAEA,KAAA,MAAA,UAAA,CACA,CACA,CAAA,EC5DIC,EAAS,UAAY,CACvB,IAAIC,EAAI,KACJC,EAAGD,EAAI,eACPE,EAAGF,EAAI,MAAM,IAAIC,EAErB,OAAOC,EAAG,SAAU,CAClB,YAAa,iBACjB,EAAK,CAACA,EAAG,QAAS,CACd,MAAO,CACL,SAAYF,EAAI,SAChB,KAAQA,EAAI,KACZ,gBAAmBA,EAAI,gBACvB,SAAYA,EAAI,QACjB,EACD,SAAU,CACR,MAASA,EAAI,KACd,CACL,EAAK,CAACA,EAAI,GAAGA,EAAI,QAAS,SAAUG,EAAKC,EAAM,CAC3C,OAAOF,EAAG,SAAU,CAClB,IAAKE,EACL,MAAO,CACL,IAAOD,EACP,KAAQC,CACT,CACP,CAAK,CACL,CAAG,EAAGJ,EAAI,GAAGA,EAAI,QAAS,SAAUG,EAAKC,EAAM,CAC3C,OAAOF,EAAG,IAAK,CACb,IAAKE,CACX,EAAO,CAACJ,EAAI,GAAG,iDAA8C,EAAGE,EAAG,IAAK,CAClE,MAAO,CACL,KAAQC,EACR,OAAU,QACX,CACP,EAAO,CAACH,EAAI,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CACzB,CAAG,CAAC,EAAG,CAAC,CAAC,CAAC,CACV,EACIK,EAAkB,CAAE"}