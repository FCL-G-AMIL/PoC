{"version":3,"file":"text.cc96c26f.js","sources":["../../src/dash-panels/text.vue","../../src/dash-panels/text.vue?vue&type=template&lang.js"],"sourcesContent":["<template lang=\"pug\">\r\n.curate-content.markdown(\r\n  v-if=\"readmeContent\"\r\n  v-html=\"readmeContent\"\r\n)\r\n\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue'\r\nimport type { PropType } from 'vue'\r\nimport markdown from 'markdown-it'\r\n\r\nimport { FileSystemConfig } from '@/Globals'\r\nimport HTTPFileSystem from '@/js/HTTPFileSystem'\r\n\r\nconst mdRenderer = new markdown({\r\n  html: true,\r\n  linkify: true,\r\n  typographer: true,\r\n})\r\n\r\nexport default defineComponent({\r\n  name: 'TextPanel',\r\n  props: {\r\n    fileSystemConfig: { type: Object as PropType<FileSystemConfig>, required: true },\r\n    subfolder: { type: String, required: true },\r\n    files: { type: Array, required: true },\r\n    config: { type: Object as any, required: true },\r\n  },\r\n  data: () => {\r\n    return {\r\n      readmeContent: '',\r\n    }\r\n  },\r\n  async mounted() {\r\n    try {\r\n      const fileApi = new HTTPFileSystem(this.fileSystemConfig)\r\n\r\n      const filename = `${this.subfolder}/${this.config.file}`\r\n      const text = await fileApi.getFileText(filename)\r\n      this.readmeContent = mdRenderer.render(text)\r\n    } catch (e: any) {\r\n      console.log({ e })\r\n      let error = '' + e\r\n      if (e.statusText) error = e.statusText\r\n\r\n      this.readmeContent = `${this.config.file}: ${error}`\r\n    }\r\n\r\n    this.$emit('isLoaded')\r\n  },\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import '@/styles.scss';\r\n\r\n.dash-element {\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n@media only screen and (max-width: 640px) {\r\n}\r\n</style>\r\n","\r\n.curate-content.markdown(\r\n  v-if=\"readmeContent\"\r\n  v-html=\"readmeContent\"\r\n)\r\n\r\n"],"names":["mdRenderer","markdown","__vue2_script","defineComponent","fileApi","HTTPFileSystem","filename","text","error","render","_vm","_h","_c","staticRenderFns"],"mappings":"wIAgBA,MAAAA,EAAA,IAAAC,EAAA,CACA,KAAA,GACA,QAAA,GACA,YAAA,EACA,CAAA,EAEA,IAAAC,EAAAC,EAAA,CACA,KAAA,YACA,MAAA,CACA,iBAAA,CAAA,KAAA,OAAA,SAAA,EAAA,EACA,UAAA,CAAA,KAAA,OAAA,SAAA,EAAA,EACA,MAAA,CAAA,KAAA,MAAA,SAAA,EAAA,EACA,OAAA,CAAA,KAAA,OAAA,SAAA,EAAA,CACA,EACA,KAAA,KACA,CACA,cAAA,EAAA,GAGA,MAAA,SAAA,CACA,GAAA,CACA,MAAAC,EAAA,IAAAC,EAAA,KAAA,gBAAA,EAEAC,EAAA,GAAA,KAAA,aAAA,KAAA,OAAA,OACAC,EAAA,MAAAH,EAAA,YAAAE,CAAA,EACA,KAAA,cAAAN,EAAA,OAAAO,CAAA,QACA,GACA,QAAA,IAAA,CAAA,CAAA,CAAA,EACA,IAAAC,EAAA,GAAA,EACA,EAAA,aAAAA,EAAA,EAAA,YAEA,KAAA,cAAA,GAAA,KAAA,OAAA,SAAAA,GACA,CAEA,KAAA,MAAA,UAAA,CACA,CACA,CAAA,ECpDIC,EAAS,UAAY,CACvB,IAAIC,EAAI,KACJC,EAAGD,EAAI,eACPE,EAAGF,EAAI,MAAM,IAAIC,EAErB,OAAOD,EAAI,cAAgBE,EAAG,MAAO,CACnC,YAAa,0BACb,SAAU,CACR,UAAaF,EAAI,GAAGA,EAAI,aAAa,CACtC,CACL,CAAG,EAAIA,EAAI,IACX,EACIG,EAAkB,CAAE"}