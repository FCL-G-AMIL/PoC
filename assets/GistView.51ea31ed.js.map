{"version":3,"file":"GistView.51ea31ed.js","sources":["../../src/js/gist.ts","../../src/layout-manager/GistView.vue","../../src/layout-manager/GistView.vue?vue&type=template&lang.js"],"sourcesContent":["import YAML from 'yaml'\r\n\r\nasync function load(id: string, options: any) {\r\n  try {\r\n    const params = options || {}\r\n\r\n    const gist = await (await fetch(`https://api.github.com/gists/${id}`)).json()\r\n    console.log({ gist })\r\n\r\n    // If a file was provided, use that one; otherwise use the first file in the gist\r\n    const data = params.file ? gist.files[params.file] : gist.files[Object.keys(gist.files)[0]]\r\n\r\n    var content = YAML.parse(data.content)\r\n    return content\r\n  } catch (e) {\r\n    console.error(e)\r\n  } finally {\r\n  }\r\n}\r\n\r\nexport default { load }\r\n","<template lang=\"pug\">\r\ndash-board(v-if=\"xsubfolder\"\r\n           root=\"gist\"\r\n           :gist=\"yaml\"\r\n           :xsubfolder=\"yaml.config.folder\")\r\n\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue'\r\n\r\nimport { FileSystem, FileSystemConfig } from '@/Globals'\r\nimport GIST from '@/js/gist'\r\nimport DashBoard from './DashBoard.vue'\r\n\r\nexport default defineComponent({\r\n  name: 'GistView',\r\n  components: { DashBoard },\r\n  props: {\r\n    id: { type: String, required: true },\r\n  },\r\n  data: () => {\r\n    return {\r\n      fileSystemConfig: null as FileSystemConfig | null,\r\n      yaml: {} as any,\r\n      xsubfolder: '',\r\n    }\r\n  },\r\n  async mounted() {\r\n    try {\r\n      // fetch the json/yaml!\r\n      this.yaml = await GIST.load(this.id, this.$route.params)\r\n      this.xsubfolder = this.yaml.config.folder\r\n    } catch (e) {}\r\n  },\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import '@/styles.scss';\r\n</style>\r\n","\r\ndash-board(v-if=\"xsubfolder\"\r\n           root=\"gist\"\r\n           :gist=\"yaml\"\r\n           :xsubfolder=\"yaml.config.folder\")\r\n\r\n"],"names":["load","id","options","params","gist","data","content","YAML","e","GIST","__vue2_script","defineComponent","DashBoard","render","_vm","_h","_c","staticRenderFns"],"mappings":"uMAEA,eAAeA,EAAKC,EAAYC,EAAc,CACxC,GAAA,CACI,MAAAC,EAASD,GAAW,GAEpBE,EAAO,MAAO,MAAM,MAAM,gCAAgCH,GAAI,GAAG,OAC/D,QAAA,IAAI,CAAE,KAAAG,CAAA,CAAM,EAGpB,MAAMC,EAAOF,EAAO,KAAOC,EAAK,MAAMD,EAAO,MAAQC,EAAK,MAAM,OAAO,KAAKA,EAAK,KAAK,EAAE,IAExF,IAAIE,EAAUC,EAAK,MAAMF,EAAK,OAAO,EAC9B,OAAAC,QACAE,GACP,QAAQ,MAAMA,CAAC,CAAA,QACf,CACF,CACF,CAEA,IAAeC,EAAA,CAAE,KAAAT,CAAK,ECLtBU,EAAAC,EAAA,CACA,KAAA,WACA,WAAA,CAAA,UAAAC,CAAA,EACA,MAAA,CACA,GAAA,CAAA,KAAA,OAAA,SAAA,EAAA,CACA,EACA,KAAA,KACA,CACA,iBAAA,KACA,KAAA,CAAA,EACA,WAAA,EAAA,GAGA,MAAA,SAAA,CACA,GAAA,CAEA,KAAA,KAAA,MAAAH,EAAA,KAAA,KAAA,GAAA,KAAA,OAAA,MAAA,EACA,KAAA,WAAA,KAAA,KAAA,OAAA,aACA,CACA,CACA,CAAA,ECnCII,EAAS,UAAY,CACvB,IAAIC,EAAI,KACJC,EAAGD,EAAI,eACPE,EAAGF,EAAI,MAAM,IAAIC,EAErB,OAAOD,EAAI,WAAaE,EAAG,aAAc,CACvC,MAAO,CACL,KAAQ,OACR,KAAQF,EAAI,KACZ,WAAcA,EAAI,KAAK,OAAO,MAC/B,CACL,CAAG,EAAIA,EAAI,IACX,EACIG,EAAkB,CAAE"}